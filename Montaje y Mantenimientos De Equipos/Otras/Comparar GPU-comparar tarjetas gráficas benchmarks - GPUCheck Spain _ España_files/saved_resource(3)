
        (function(config) {
            var ConfigWrapper=function(){"use strict";function e(e){function t(e,t){var n,i,r=t.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),o=r.length;for(n=0;n<o;n+=1){if(i=r[n],!(i in e))return null;e=e[i]}return e}this.get=function(n,i){var r,o=i;return 0===arguments.length?JSON.parse(JSON.stringify(e)):(1===arguments.length&&(o=null),r=t(e,n),null==r&&(r=o),r?JSON.parse(JSON.stringify(r)):r)}}return e}();!function(e,t){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return h[f]=i,p(f),f++}function i(e){delete h[e]}function r(e){var n=e.callback,i=e.args;switch(i.length){case 0:n();break;case 1:n(i[0]);break;case 2:n(i[0],i[1]);break;case 3:n(i[0],i[1],i[2]);break;default:n.apply(t,i)}}function o(e){if(m)setTimeout(o,0,e);else{var t=h[e];if(t){m=!0;try{r(t)}finally{i(e),m=!1}}}}function s(){p=function(e){process.nextTick(function(){o(e)})}}function a(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function l(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),p=function(n){e.postMessage(t+n,"*")}}function c(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;o(t)},p=function(t){e.port2.postMessage(t)}}function u(){var e=y.documentElement;p=function(t){var n=y.createElement("script");n.onreadystatechange=function(){o(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function d(){p=function(e){setTimeout(o,0,e)}}if(!e.setImmediate){var p,f=1,h={},m=!1,y=e.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(e);g=g&&g.setTimeout?g:e,"[object process]"==={}.toString.call(e.process)?s():a()?l():e.MessageChannel?c():y&&"onreadystatechange"in y.createElement("script")?u():d(),g.setImmediate=n,g.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof global?this:global:self);var EventEmitter=function(){"use strict";function e(){this.listeners={}}var t=function(e,t,n){null!=e[t]&&n>=0&&e[t].length>n&&(e[t][n]=null)},n=function(e,t){null!=e[t]&&(e[t]=null)};return e.prototype.emit=function(e,t){null!=this.listeners[e]&&this.listeners[e].forEach(function(e){null!=e&&window.setImmediate(function(){e(t)})})},e.prototype.emitSync=function(e,t){null!=this.listeners[e]&&this.listeners[e].forEach(function(e){null!=e&&e(t)})},e.prototype.on=function(e,t){return this.listeners[e]?this.listeners[e].push(t):this.listeners[e]=[t],this.listeners[e].length-1},e.prototype.once=function(e,t){var n=this.on(e,function(i){this.listeners[e][n]&&(this.off(e,n),t(i))}.bind(this));return n},e.prototype.off=function(){switch(arguments.length){case 0:this.listeners={};break;case 1:n(this.listeners,arguments[0]);break;default:t(this.listeners,arguments[0],arguments[1])}},e}(),utils=function(){"use strict";var e={};return e.canAccessTopWindow=function(){return e.canAccessWindow(window.top)},e.canAccessWindow=function(e){var t;try{return t=e.location.href,!!t}catch(n){return!1}},e.getRealDomain=function(){var t,n,i;if(e.canAccessTopWindow())n=window.top.location.href;else{for(t=window;e.canAccessWindow(t.parent);)t=t.parent;n=t.document.referrer}return i=n.match(/^https?\:\/\/(?:www\.)?([^\/:?#]+)(?:[\/:?#]|$)/i),i&&i[1]},e.isString=function(e){return"string"==typeof e||e instanceof String},e}(),inDapIF,wnd,doc,injectorPlayerEmitter;config=new ConfigWrapper(config),inDapIF=window!==window.top&&utils.canAccessTopWindow(),wnd=function(e){"use strict";var t=config.get("format_family"),n=config.get("enable_intext_animation",!0),i=!("banner"===t||"display"===t||"gallery"===t||"native"===t&&!n)||"no"!==config.get("vip_mode","no");return inDapIF&&i?e.top:e}(window),doc=wnd.document,injectorPlayerEmitter=new EventEmitter;var cssTpl="",CssLoader=function(){"use strict";var e=function(e,t,n){this.id=e,this.css=utils.copyString(t),n&&(this.css+=n)};return e.prototype.getCssNameNamespace=function(){return"vr-"+this.id},e.prototype.loadStyle=function(e){var t=this.css.replace(new RegExp("namespace","g"),this.id),n=doc.createElement("style");if(n.id="vr-"+this.id,e.parentNode.insertBefore(n,e),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(i){n.innerText=t}},e}(),ajax=function(){"use strict";var e={},t=function(e,t,n,i){var r=!0,o={UNSET:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},s=[200,201,202,204,206,304,1223],a=function(){try{return new XDomainRequest}catch(e){r=!1}try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml3.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}return null},l=a(),c=t?"POST":"GET";l&&(l.open(c,e,!0),r?(l.onload=function(){n&&n(l.responseText)},l.onprogress=function(){},l.ontimeout=function(){},l.onerror=function(){i&&i()}):l.onreadystatechange=function(){l.readyState===o.DONE&&(s.indexOf(l.status)>-1?n&&n(l.responseText):i&&i())},"withCredentials"in l&&(l.withCredentials=!0),t&&l.setRequestHeader("Content-type","application/json"),l.send(t))};return e.get=function(e,n,i){return t(e,null,n,i)},e.post=function(e,n,i,r){var o=n?JSON.stringify(n):"{}";return t(e,o,i,r)},e}(),Log;Log=function(){"use strict";function e(e){this.prefix="["+(e||"VR-LOG")+"]"}return e.prototype.debug=function(){},e.prototype.info=function(){},e.prototype.warn=function(){},e.prototype.error=function(){},e}();var TemplateLoader=function(){"use strict";var e={};return e.render=function(e,t){var n=e;return Object.keys(t).forEach(function(e){var i=new RegExp("{{"+e+"}}","g");n=n.replace(i,t[e])}),n},e}(),PlayerDependencies={player:{debug:["//ajax.googleapis.com/ajax/libs/jquery/1.12.1/jquery.js","https://polyfill.io/v3/polyfill.js?features=default,es2015,es2016,es2017,es2018,es2019,es5,es6,es7&flags=gated","//imasdk.googleapis.com/js/sdkloader/ima3_debug.js"],default:["//ajax.googleapis.com/ajax/libs/jquery/1.12.1/jquery.min.js","https://polyfill.io/v3/polyfill.min.js?features=default,es2015,es2016,es2017,es2018,es2019,es5,es6,es7&flags=gated","//imasdk.googleapis.com/js/sdkloader/ima3.js"]},mobi:{debug:["//ajax.googleapis.com/ajax/libs/jquery/1.12.1/jquery.js","https://polyfill.io/v3/polyfill.js?features=default,es2015,es2016,es2017,es2018,es2019,es5,es6,es7&flags=gated"],default:["//ajax.googleapis.com/ajax/libs/jquery/1.12.1/jquery.min.js","https://polyfill.io/v3/polyfill.min.js?features=default,es2015,es2016,es2017,es2018,es2019,es5,es6,es7&flags=gated"]},banner:{debug:["//ajax.googleapis.com/ajax/libs/jquery/1.12.1/jquery.js","https://polyfill.io/v3/polyfill.js?features=default,es2015,es2016,es2017,es2018,es2019,es5,es6,es7&flags=gated"],default:["//ajax.googleapis.com/ajax/libs/jquery/1.12.1/jquery.min.js","https://polyfill.io/v3/polyfill.min.js?features=default,es2015,es2016,es2017,es2018,es2019,es5,es6,es7&flags=gated"]},strip:{debug:["//ajax.googleapis.com/ajax/libs/jquery/1.12.1/jquery.js","https://polyfill.io/v3/polyfill.js?features=default,es2015,es2016,es2017,es2018,es2019,es5,es6,es7&flags=gated"],default:["//ajax.googleapis.com/ajax/libs/jquery/1.12.1/jquery.min.js","https://polyfill.io/v3/polyfill.min.js?features=default,es2015,es2016,es2017,es2018,es2019,es5,es6,es7&flags=gated"]},sentry:"//cdn.ravenjs.com/3.17.0/raven.min.js"},MaxInstancesError=function(){"use strict";function e(e){this.message=e}return e.prototype=new Error,e}(),DuplicateInjectorError=function(){"use strict";function e(e){this.message=e}return e.prototype=new Error,e}(),ViewabilityUnavailableError=function(){"use strict";function e(e){this.message=e}return e.prototype=new Error,e}(),ViewabilityClassNotFoundError=function(){"use strict";function e(e){this.message=e}return e.prototype=new Error,e}(),DuplicatedViewabilityImplementationError=function(){"use strict";function e(e){this.message=e}return e.prototype=new Error,e}(),Constants={ADUNIT_REQUEST_ERRORS:{SCRIPT_NOT_FOUND:30001,LOCATION_INLINE_ERROR:30002,LOCATION_AUTO_ERROR:30003,LOCATION_BY_ID_ERROR:30004,LOCATION_BY_SELECTOR_ERROR:30005,SCRIPT_IN_HEAD:30006,INVALID_VPT_CONFIGURATION:50001}};utils=function(e,t,n){"use strict";try{new CustomEvent("?"),n.CustomEvent=CustomEvent}catch(i){n.CustomEvent=function(e,n){function i(i,o){var s=t.createEvent(e);return null!==i?r.call(s,i,(o||(o=n)).bubbles,o.cancelable,o.detail):s.initCustomEvent=r,s}function r(t,n,i,r){this["init"+e](t,n,i,r),"detail"in this||(this.detail=r)}return i}(e.CustomEvent?"CustomEvent":"Event",{bubbles:!1,cancelable:!1,detail:null})}return n.matchMedia=function(n){if(e.matchMedia)return e.matchMedia(n);var i=e.styleMedia||e.media;if(!i){var r=t.createElement("style"),o=t.getElementsByTagName("script")[0],s=null;r.type="text/css",r.id="matchmediajs-test",o.parentNode.insertBefore(r,o),s="getComputedStyle"in e&&e.getComputedStyle(r,null)||r.currentStyle,i={matchMedium:function(e){var t="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return r.styleSheet?r.styleSheet.cssText=t:r.textContent=t,"1px"===s.width}}}return{matches:i.matchMedium(n||"all"),media:n||"all"}},n.sessionStorage=function(){var t=!0;try{if(e.sessionStorage.setItem("VR_TEST_SESSIONSTORAGE","test"),"test"!==e.sessionStorage.getItem("VR_TEST_SESSIONSTORAGE"))throw new Error("sessionStorage unavailable")}catch(n){e.VR_sessionStorageFallback=e.VR_sessionStorageFallback||{},t=!1}return t?e.sessionStorage:{setItem:function(t,n){e.VR_sessionStorageFallback[t]=n},getItem:function(t){return e.VR_sessionStorageFallback[t]||null},removeItem:function(t){try{delete e.VR_sessionStorageFallback[t]}catch(n){}},clear:function(){e.VR_sessionStorageFallback={}}}},n}(wnd,doc,utils||{}),utils=function(e,t,n){"use strict";var i={BE:!0,BG:!0,CZ:!0,DK:!0,DE:!0,EE:!0,IE:!0,EL:!0,ES:!0,FR:!0,HR:!0,IT:!0,CY:!0,LV:!0,LT:!0,LU:!0,HU:!0,MT:!0,NL:!0,AT:!0,PL:!0,PT:!0,RO:!0,SI:!0,SK:!0,FI:!0,SE:!0,UK:!0},r={mov:"mp4",mkv:"x-matroska","3gp":"3gpp","3g2":"3gpp2",h261:"h261",h263:"h263",h264:"h264",jpgv:"jpeg",jpm:"jpm",mj2:"mj2",mp4:"mp4",mpeg:"mpeg",ogv:"ogg",qt:"quicktime",uvh:"vnd.dece.hd",uvm:"vnd.dece.mobile",uvp:"vnd.dece.pd",uvs:"vnd.dece.sd",uvv:"vnd.dece.video",fvt:"vnd.fvt",mxu:"vnd.mpegurl",pyv:"vnd.ms-playready.media.pyv",uvu:"vnd.uvvu.mp4",viv:"vnd.vivo",webm:"webm",f4v:"x-f4v",fli:"x-fli",flv:"x-flv",m4v:"x-m4v",asf:"x-ms-asf",wm:"x-ms-wm",wmv:"x-ms-wmv",wmx:"x-ms-wmx",wvx:"x-ms-wvx",avi:"x-msvideo",movie:"x-sgi-movie"};return n.urlEncode=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")},n.getViewportSize=function(e){var t="inner",n=e;return"innerWidth"in e||(t="client",n=n.document.documentElement||n.document.body),{width:n[t+"Width"],height:n[t+"Height"]}},n.getScreenSize=function(e){return{width:e.screen.width,height:e.screen.height}},n.getPageSize=function(e){return{width:e.document.body.scrollWidth,height:e.document.body.scrollHeight}},n.setCookie=function(e,n,i){var r=(new Date).valueOf(),o=new Date(864e5+r);o.setHours(0,0,0,0),i=i||o;var s=Math.floor((i-r)/1e3),a=e+"="+n+";path=/;max-age="+s+";expires="+i.toUTCString();return t.cookie=a,a},n.getCookie=function(n){n=e.encodeURIComponent(n),n=n.replace(/[\-\.\+\*]/g,"\\$&");var i=new RegExp("(?:(?:^|.*;)\\s*"+n+"\\s*\\=\\s*([^;]*).*$)|^.*$"),r=t.cookie.replace(i,"$1");return""!==r?e.decodeURIComponent(r):null},n.deleteCookie=function(e){t.cookie=e+"=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},n.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},n.extend=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]},n.filter=function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];t(r)&&n.push(r)}return n},n.classNamePrefix=function(e,t){for(var n=0,i=t.length;n<i;n++)t[n]=e+"-"+t[n];return t.join(" ")},n.addEventListener=function(e,t,n,i){var r=!1;e.addEventListener?(i&&detect.isPassiveListenersSupported()&&(r={passive:!0}),e.addEventListener(t,n,r)):e.attachEvent&&e.attachEvent("on"+t,n)},n.removeEventListener=function(e,t,n,i){var r=!1;e.removeEventListener?(i&&detect.isPassiveListenersSupported()&&(r={passive:!0}),e.removeEventListener(t,n,r)):e.detachEvent&&e.detachEvent("on"+t,n)},n.bind=function(e,t){return function(){return e.apply(t,Array.prototype.slice.call(arguments))}},n.hashCode=function(e){var t,n,i,r=0;if(0===e.length)return r;for(t=0,i=e.length;t<i;t++)n=e.charCodeAt(t),r=(r<<5)-r+n,r|=0;return r},n.pad=function(e,t){for(var n=String(e);n.length<(t||2);)n="0"+n;return n},n.throwException=function(e){setTimeout(function(){throw e},0)},n.getCustomCss=function(e){var t=e.getAttribute("data-custom-style"),n="";if(t){var i=document.getElementById(t);i?n=i.innerHTML:this.throwException("Couldn't find the custom style tag "+t)}return n},n.onDOMContentLoaded=function(e,i){var r=i||"complete";t.readyState===r||"complete"===t.readyState?e():n.addEventListener(t,"readystatechange",function(){t.readyState===r&&e()})},n.trackRequestEvent=function(e,t){var n=t||"ok",i=7,r=config.get("scheme")+"://"+config.get("endpoint_host")+"/track/?session_id="+config.get("sid")+"&request_session_id="+config.get("sid")+"&label="+e+"&ver="+i+"&reason="+n+"&type=event&category=request_session",o=new Image;o.onload=function(){},o.src=r},n.trackUrl=function(e){var t=new Image;t.onload=function(){},t.src=e},n.getVPTInstance=function(e){var t=e.get("is_preview"),n=e.get("is_test");return"instream"===e.get("format_family")&&(t||n)?null:viralize.__VR&&viralize.__VR.vptimpl},n.getAdditionalPlayerConfig=function(e){var t=null,i=e.get("zid"),r=n.getVPTInstance(e);return null!=r&&null!=r.getConfig&&(t=r.getConfig(i)),t},n.loadPlayerIframe=function(e,t,i,r,o,s){var a=i.get("sentry",null),l=i.get("player.mobi"),c="banner"===i.get("format_family"),u=i.get("player.script"),d=c?templates.banner:templates.player,p=s||injectorPlayerEmitter;ajax.get(t,function(t){var r,s=JSON.parse(t),a=e.elem.contentWindow||e.elem;return s.error?void p.emit("event::loadPlayerError"):(o&&o(s),r=n.getVPTInstance(i),p.once("pl::playerReady",function(){var e;n.setupHeavyAdReporting(a,p),e=null!=r&&(null==s.extra||null==s.extra.session_counter||1===s.extra.session_counter),e&&r.emit(r.EVENTS.PLAYER_READY,s.environment.zone.zid,s.environment.zone.format_family)}),void(a.onPlayerReady?a.onPlayerReady(s,p,r):(a.config=s,a.injectorPlayerEmitter=p,a.vpt=r)))});var f=l?"mobi":c?"banner":"player",h=TemplateLoader.render(d,{scripts:function(){var e=PlayerDependencies[f],t=i.get("debug",!1)?e.debug.slice():e["default"].slice();return a&&t.unshift(PlayerDependencies.sentry),t.push(u),t.reduce(function(e,t){return/https?:/i.test(location.protocol)||/^https?/i.test(t)||(t=i.get("scheme")+":"+t),e+'<script type="text/javascript" src="'+t+'"></script>'},"")},ecgEndpoint:i.get("scheme")+"://"+i.get("endpoint_host")+"/track/",sentryConfig:function(){return a?JSON.stringify({dsn:a.dsn,sampleRate:a.sample_rate}):null}});p.once("cmd::dmp_user_data",function(e){r&&r(e.data)}),n.loadFriendlyIframeWithTemplate(e,h)},n.loadFriendlyIframeWithTemplate=function(e,t){var n=e.elem||e,i=n.contentDocument||n.contentWindow.document;i.open("text/html","replace"),i.write(t),i.close()},n.isUrl=function(e){var t=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return t.test(e)},n.getOrigin=function(e){return n.isUrl(e.location.origin)?e.location.origin:config.get("scheme")+"://"+t.domain},n.isInUE=function(e){return i[e]||!1},n.getFifAbsolutePosition=function(e){for(var t,n,i,r={top:0,left:0},o=e;o!==window.top;)t=o.frameElement.getBoundingClientRect(),n=o.parent.pageYOffset||o.parent.document.documentElement.scrollTop||o.parent.document.body.scrollTop||0,i=o.parent.pageXOffset||o.parent.document.documentElement.scrollLeft||o.parent.document.body.scrollLeft||0,r.top+=t.top+n,r.left+=t.left+i,o=o.parent;return r},n.copyString=function(e){return(" "+e).slice(1)},n.getFileExtension=function(e){return null==e?"":e.split(".").pop()},n.getMimetype=function(e){var t=n.getFileExtension(e);return r[t.toLowerCase()]||""},n.trackPlayerEvent=function(e,t){var n=t||"ok",i=10,r=config.get("scheme")+"://"+config.get("endpoint_host")+"/track/?session_id="+config.get("sid")+":0&player_session_id=0&label="+e+"&ver="+i+"&reason="+n+"&type=event&category=player_session",o=new Image;o.onload=function(){},o.src=r},n.setupHeavyAdReporting=function(e,t){var i,r,o=!1,s="HeavyAdIntervention",a="60000",l=!1,c=function(e){var i=!1;for(r=0;r<e.length;r+=1)e[r].body.id===s&&(i=!0,n.trackPlayerEvent("player_error",a));i&&!l&&(l=!0,"native"===config.get("format_family")?t.emit("cmd::pullup",{adFilled:o,skipped:!1,eventsFlushed:!0}):t.emit("cmd::remove",{impression:o,skipped:!1}))};e.ReportingObserver&&(t.on("adFilled",function(){o=!0}),i=new e.ReportingObserver(c,{buffered:!0}),e.addEventListener("unload",c),i.observe())},n.getAmpAdContext=function(){var e=n.getAmpAdWindowWithContext();if(null!=e)return e.context},n.getAmpAdWindowWithContext=function(){var e=window;try{for(;e!==window.top;){if(null!=e.context&&null!=e.context.observeIntersection)return e;e=e.parent}}catch(t){}},n.getAmpVideoIframe=function(){var e=window;try{for(;e!==window.top;){if(null!=e.AmpVideoIframe)return e.AmpVideoIframe;e=e.parent}}catch(t){}},n}(wnd,doc,utils||{}),utils=function(e,t,n){"use strict";function i(e){return this instanceof i?void(this.elem=e):new i(e)}return i.create=function(e,n){var r=new i(t.createElement(e));if(n)for(var o in n)r.attr(o,n[o]);return r},i.get=function(e){var n=t.querySelector(e);return null!==n&&(n=new i(n)),n},i.getById=function(e){var n=t.getElementById(e);return null!==n&&(n=new i(n)),n},i.getAll=function(e){for(var n=t.querySelectorAll(e),r=[],o=0;o<n.length;o++)r[o]=new i(n[o]);return r},i.remove=function(e){var n=t.getElementById(e);null!==n&&n.parentNode&&n.parentNode.removeChild(n)},i.removeByClass=function(e){for(var n=t.getElementsByClassName(e),i=n.length-1;i>=0;i--){var r=n[i];r.parentNode.removeChild(r)}},i.insertHTMLBefore=function(e,t,i){if(""===i)return null;var r=n.Element.create("ins",{id:t});r.elem.innerHTML=i,e.parentNode.insertBefore(r.elem,e);for(var o=r.elem.getElementsByTagName("script"),s=0;s<o.length;s++){for(var a=document.createElement("script"),l=o[s].attributes,c=0;c<l.length;c++)a.setAttribute(l[c].nodeName,l[c].value);o[s].innerHTML&&(a.text=o[s].innerHTML),o[s].parentNode.replaceChild(a,o[s])}return this},i.prototype.remove=function(){this.elem.parentNode.removeChild(this.elem)},i.prototype.attr=function(e,t){return this.elem.setAttribute(e,t),this},i.prototype.appendTo=function(e){return e.appendChild(this.elem),this},i.prototype.append=function(e){return e.nextSibling?e.parentNode.insertBefore(this.elem,e.nextSibling):e.parentNode.appendChild(this.elem),this},i.prototype.prepend=function(e){return e.parentNode.insertBefore(this.elem,e),this},i.prototype.text=function(e){return void 0===e?"textContent"in this.elem?this.elem.textContent:this.elem.innerText:("textContent"in this.elem?this.elem.textContent=e:this.elem.innerText=e,this)},i.prototype.offset=function(){var n=this.elem.getBoundingClientRect(),i=t.body,r=t.documentElement,o=e.pageYOffset||r.scrollTop||i.scrollTop,s=e.pageXOffset||r.scrollLeft||i.scrollLeft,a=r.clientTop||i.clientTop||0,l=r.clientLeft||i.clientLeft||0,c=n.top+o-a,u=n.left+s-l;return{top:Math.round(c),left:Math.round(u)}},i.prototype.hasClass=function(e){return new RegExp(" "+e+" ").test(" "+this.elem.className+" ")},i.prototype.addClass=function(e){return this.hasClass(e)||(this.elem.className+=(this.elem.className.length?" ":"")+e),this},i.prototype.removeClass=function(e){return this.hasClass(e)&&(this.elem.className=this.elem.className.replace(e,"").replace(/\s+$/g,"")),this},i.prototype.hide=function(){return this.elem.style.display="none",this.elem.style.visibility="hidden",this},i.prototype.show=function(){return this.elem.style.visibility="visible",this.elem.style.display="",this},n.Element=i,n}(wnd,doc,utils||{});var ViewabilityFactory=function(){"use strict";var e={},t={};return e.publishingPlatform={STANDARD:"standard",ACCELERATED_MOBILE_PAGE_AD:"amp",ACCELERATED_MOBILE_PAGE_IFRAME:"amp-iframe",ACCELERATED_MOBILE_PAGE_VIRALIZE_PLAYER:"amp-viralize-player",FACEBOOK_INSTANT_ARTICLES:"fbia",APPLE_NEWS:"an",OEMBED:"oembed"},e.register=function(e,n){var i=t[e];if(i)throw new DuplicatedViewabilityImplementationError(i+" is already registered for the platform "+e);t[e]=n},e.getInstance=function(n,i,r,o,s){var a=n||e.publishingPlatform.STANDARD,l=t[a];if(!l)throw new ViewabilityClassNotFoundError("No viewabilityClass registered for the platform "+n);return new l(i,r,o,s)},e}(),Viewability=function(e){"use strict";function t(e,t,n,i){this.reasons={OUT_OF_VIEWPORT:0,HIDDEN:1,NOT_IN_FOCUS:2,TOO_SMALL:3,IN_VIEWPORT:4,FIXED_VIEWABILITY:5},this.elem=e,this.wnd=t,this.forceViewability=n,this.onViewabilityChange=i}return t.prototype.start=function(){if(this.isViewabilityUnavailable())throw new ViewabilityUnavailableError;this.stop(),this.attachListeners(e.bind(this.notifier,this)),this.notifier()},t.prototype.stop=function(){this.detachListeners()},t.prototype.notifier=function(){this.onViewabilityChange(this.computeViewability())},t}(utils),viewabilityPercentageCalculator=function(e,t){"use strict";var n=e.getBoundingClientRect(),i=n.width*n.height,r=Math.ceil(Math.max(0,n.left)),o=Math.ceil(Math.min(t.width,n.right)),s=Math.ceil(Math.max(0,n.top)),a=Math.ceil(Math.min(t.height,n.bottom)),l=(o-r)*(a-s),c=Math.floor(l/i*100);return c},IntersectionViewabilityObserver=function(e,t){"use strict";function n(e,t){this.callback=null,this.intersectionObserver=null,this.intersectionData=null,this.elem=t,this.wnd=e}return n.prototype.start=function(e){var t=this,n={root:null,rootMargin:"0px",threshold:this.createIntersectionObserverThresholds()};this.callback=e,this.intersectionObserver=new IntersectionObserver(function(e){0!==e.length&&(t.intersectionData=t.parseIntersectionData(e),t.callback())},n),this.intersectionObserver.observe(this.elem)},n.prototype.createIntersectionObserverThresholds=function(){var e,t,n=100,i=[];for(t=0;t<=n;t+=1)e=t/n,i.push(e);return i},n.prototype.parseIntersectionData=function(e){var t=e[e.length-1];return Math.min(100,Math.round(100*t.intersectionRatio))},n.prototype.stop=function(){this.intersectionObserver&&(this.intersectionObserver.disconnect&&this.intersectionObserver.disconnect(),this.intersectionObserver.unobserve&&this.intersectionObserver.unobserve(this.elem),this.intersectionObserver=null)},n.prototype.computeViewabilityPercentage=function(){var n,i=t.getViewportSize(this.wnd);return this.intersectionObserver.takeRecords&&(n=this.intersectionObserver.takeRecords(),n.length>0&&(this.intersectionData=this.parseIntersectionData(n))),null!=this.intersectionData?this.intersectionData:e(this.elem,i)},n}(viewabilityPercentageCalculator,utils),MutationViewabilityObserver=function(e,t){"use strict";function n(e,t){this.callback=null,this.viewabilityObserver=null,this.elem=t,this.wnd=e}return n.prototype.start=function(e){function n(e){var t,n;for(n=0;n<e.length;n+=1)if(t=e[n],t.target.contains(this.elem))return void this.callback()}this.callback=e,this.viewabilityObserver=new this.wnd.MutationObserver(t.bind(n,this)),this.viewabilityObserver.observe(this.wnd.document.body,{attributes:!0,subtree:!0})},n.prototype.stop=function(){this.viewabilityObserver&&(this.viewabilityObserver.disconnect(),this.viewabilityObserver=null)},n.prototype.computeViewabilityPercentage=function(){var n=t.getViewportSize(this.wnd);return e(this.elem,n)},n}(viewabilityPercentageCalculator,utils),PollingViewabilityObserver=function(e,t){"use strict";function n(e,t){this.callback=null,this.viewabilityLoopTimer=null,this.elem=t,this.wnd=e,this.loopInterval=250}return n.prototype.start=function(e){function t(){n.callback(),n.viewabilityLoopTimer=n.wnd.setTimeout(t,n.loopInterval)}var n=this;this.callback=e,t()},n.prototype.stop=function(){this.viewabilityLoopTimer&&(this.wnd.clearTimeout(this.viewabilityLoopTimer),this.viewabilityLoopTimer=null)},n.prototype.computeViewabilityPercentage=function(){var n=t.getViewportSize(this.wnd);return e(this.elem,n)},n}(viewabilityPercentageCalculator,utils),StandardViewability=function(e,t,n,i,r){"use strict";function o(e,t,o,s){Viewability.call(this,e,t,o,s),this.callback=null,this.windowEvents=["focus","blur","check","checkAndNotify"],this.documentEvents=["visibilitychange","mozvisibilitychange","msvisibilitychange","webkitvisibilitychange"],this.hiddenProperty=function(){var e,t=["hidden","mozHidden","webkitHidden","msHidden","oHidden"],n=null;for(e=0;e<t.length;e++)if(n=t[e],n in document)return n;return n}(),this.minElementArea=1,this.ancestors=this.getElementAncestors(),this.viewabilityObserver=null,window.IntersectionObserver?this.viewabilityObserver=new r(this.wnd,this.elem):(this.windowEvents=this.windowEvents.concat(["scroll","resize"]),window.MutationObserver?this.viewabilityObserver=new i(this.wnd,this.elem):this.viewabilityObserver=new n(this.wnd,this.elem))}return o.prototype=Object.create(Viewability.prototype),o.prototype.constructor=o,o.prototype.getElementAncestors=function(){for(var e=[],t=this.elem;t;)e.unshift(t),t=t.parentNode;return e},o.prototype.isViewabilityUnavailable=function(){return!window.IntersectionObserver&&this.isInIframe()},o.prototype.isInIframe=function(){var e,t;if(this.wnd.top!==this.wnd.self)return!0;for(e=this.wnd.top.document.getElementsByTagName("iframe"),t=0;t<e.length;t+=1)if(e[t]===this.elem)return!1;return!0},o.prototype.computeViewability=function(){var e=this.inFocus(),t=this.computeViewabilityReason(e),n={reason:t,focus:e};return!this.forceViewability()||t!==this.reasons.OUT_OF_VIEWPORT&&t!==this.reasons.IN_VIEWPORT?t!==this.reasons.IN_VIEWPORT?(n.perc=0,n):(n.perc=this.viewabilityObserver.computeViewabilityPercentage(),n):(n.perc=100,n)},o.prototype.computeViewabilityReason=function(e){var n,i,r=this.elem,o=t.getViewportSize(this.wnd),s=r.getBoundingClientRect(),a=s.width*s.height,l=this.ancestors;if("none"===r.style.display||"hidden"===r.style.visibility)return this.reasons.HIDDEN;for(n=0;n<l.length;n+=1)if(i=l[n].style,i&&("none"===i.display||"hidden"===i.visibility))return this.reasons.HIDDEN;return e?s.bottom<=0||s.right<=0||s.top>=o.height||s.left>=o.width?this.reasons.OUT_OF_VIEWPORT:a<this.minElementArea?this.reasons.TOO_SMALL:this.reasons.IN_VIEWPORT:this.reasons.NOT_IN_FOCUS},o.prototype.inFocus=function(){var e=this.wnd.document[this.hiddenProperty];return void 0!==e?!e:!t.canAccessTopWindow()||"function"!=typeof window.top.document.hasFocus||window.top.document.hasFocus()},o.prototype.attachListeners=function(e){var n;for(this.callback=e,n=0;n<this.windowEvents.length;n+=1)t.addEventListener(this.wnd,this.windowEvents[n],e,!0);for(n=0;n<this.documentEvents.length;n+=1)t.addEventListener(this.wnd.document,this.documentEvents[n],e,!0);this.viewabilityObserver.start(e)},o.prototype.detachListeners=function(){var e;for(e=0;e<this.windowEvents.length;e+=1)t.removeEventListener(this.wnd,this.windowEvents[e],this.callback,!0);for(e=0;e<this.documentEvents.length;e+=1)t.removeEventListener(this.wnd.document,this.documentEvents[e],this.callback,!0);this.viewabilityObserver.stop()},e.register(e.publishingPlatform.STANDARD,o),e.register(e.publishingPlatform.APPLE_NEWS,o),e.register(e.publishingPlatform.OEMBED,o),e.register(e.publishingPlatform.ACCELERATED_MOBILE_PAGE_VIRALIZE_PLAYER,o),o}(ViewabilityFactory,utils,PollingViewabilityObserver,MutationViewabilityObserver,IntersectionViewabilityObserver),AmpAdViewability=function(e){"use strict";function t(e,t,n,i){Viewability.call(this,e,t,n,i),this.detachViewabilityObserver=null,this.currentViewability=null,this.ampAdContext=utils.getAmpAdContext(),this.minElementArea=1}return t.prototype=Object.create(Viewability.prototype),t.prototype.constructor=t,t.prototype.isViewabilityUnavailable=function(){return!1},t.prototype.computeViewability=function(){var e=!this.ampAdContext.hidden,t=this.computeViewabilityReason(e),n={reason:t,focus:e};return t!==this.reasons.IN_VIEWPORT?(n.perc=0,n):(n.perc=this.currentViewability?Math.min(100,Math.round(100*this.currentViewability.intersectionRatio)):0,n)},t.prototype.computeViewabilityReason=function(e){var t,n;return null==this.currentViewability?this.reasons.FIXED_VIEWABILITY:(t=this.currentViewability.boundingClientRect,n=t.width*t.height,e?this.currentViewability.intersectionRatio<=0?this.reasons.OUT_OF_VIEWPORT:n<this.minElementArea?this.reasons.TOO_SMALL:this.reasons.IN_VIEWPORT:this.reasons.NOT_IN_FOCUS)},t.prototype.attachListeners=function(e){var t=this;this.detachViewabilityObserver=this.ampAdContext.observeIntersection(function(n){t.currentViewability=n[n.length-1],e()})},t.prototype.detachListeners=function(){this.detachViewabilityObserver&&this.detachViewabilityObserver()},e.register(e.publishingPlatform.ACCELERATED_MOBILE_PAGE_AD,t),t}(ViewabilityFactory),AmpVideoIframeViewability=function(e){"use strict";function t(e,t,n,i){Viewability.call(this,e,t,n,i),this.currentIntersectionRatio=0,this.refreshFunctionId=void 0,this.ampVideoIframe=utils.getAmpVideoIframe(),this.hiddenProperty=function(){var e,t=["hidden","mozHidden","webkitHidden","msHidden","oHidden"],n=null;for(e=0;e<t.length;e+=1)if(n=t[e],n in document)return n;return n}()}var n=250;return t.prototype=Object.create(Viewability.prototype),t.prototype.constructor=t,t.prototype.isViewabilityUnavailable=function(){return!1},t.prototype.computeViewability=function(){var e,t=this.inFocus();return e=t?this.currentIntersectionRatio>0?this.reasons.IN_VIEWPORT:this.reasons.OUT_OF_VIEWPORT:this.reasons.NOT_IN_FOCUS,{reason:e,focus:t,perc:Math.min(100,Math.round(100*this.currentIntersectionRatio))}},t.prototype.attachListeners=function(e){var t=this;this.ampVideoIframe.push(function(i){function r(){i.getIntersection(function(n){t.currentIntersectionRatio=n.intersectionRatio,e()})}r(),t.refreshFunctionId=setInterval(r,n)})},t.prototype.detachListeners=function(){clearInterval(this.refreshFunctionId)},t.prototype.inFocus=function(){var e=this.wnd.document[this.hiddenProperty];return void 0===e||!e},e.register(e.publishingPlatform.ACCELERATED_MOBILE_PAGE_IFRAME,t),t}(ViewabilityFactory),FBiaViewability=function(e,t){"use strict";function n(e,n,i,r){Viewability.call(this,e,n,i,r),this.boundedListener=t.bind(this.receiveMessage,this),this.callback=null}var i={enters_viewport:1,center_enters_viewport:100,center_exits_viewport:49,exits_viewport:-1};return n.prototype=Object.create(Viewability.prototype),n.prototype.constructor=n,n.prototype.isViewabilityUnavailable=function(){return!1},n.prototype.computeViewability=function(){return{reason:this.wnd.viewabilityPerc>0?this.reasons.IN_VIEWPORT:this.reasons.OUT_OF_VIEWPORT,focus:!0,perc:this.wnd.viewabilityPerc}},n.prototype.attachListeners=function(e){this.wnd.viewabilityPerc=i[this.wnd.lastViewabilityMessage],this.callback=e,this.wnd.addEventListener("message",this.boundedListener)},n.prototype.detachListeners=function(){this.wnd.removeEventListener("message",this.boundedListener)},n.prototype.receiveMessage=function(e){i[e.data]&&(this.wnd.viewabilityPerc=i[e.data],this.callback&&this.callback())},e.register(e.publishingPlatform.FACEBOOK_INSTANT_ARTICLES,n),n}(ViewabilityFactory,utils),IABViewability=function(){"use strict";function e(e,t,n){var i=n||2;this.viewability=e,this.callback=t,this.iabViewabilityTimeout=null,this.counter=8,this.loopInterval=i/this.counter*1e3}return e.prototype.start=function(){function e(){var i=t.viewability.computeViewability();i.perc>=50?(n-=1,0===n?t.callback():t.iabViewabilityTimeout=window.setTimeout(e,t.loopInterval)):(n=t.counter,
t.iabViewabilityTimeout=window.setTimeout(e,t.loopInterval))}var t=this,n=this.counter;if(this.stop(),this.viewability.isViewabilityUnavailable())throw new ViewabilityUnavailableError;this.iabViewabilityTimeout=window.setTimeout(e,t.loopInterval)},e.prototype.stop=function(){window.clearTimeout(this.iabViewabilityTimeout)},e}(),detect=function(e){"use strict";var t={};return t.detectAutoplay=function(){var t,n=[/mobile/i,/android/i,/(iphone|ipad|ipod)/i,/silk-accelerated/i];for(t=0;t<n.length;t++)if(e.navigator&&e.navigator.userAgent&&e.navigator.userAgent.match(n[t]))return!1;return!0},t.detectMobile=function(){return navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i)},t.detectiOS=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},t.detectAndroidVersion=function(){var e=navigator.userAgent.toLowerCase(),t=e.match(/android\s([0-9\.]*)/);return t[1]},t.isPassiveListenersSupported=function(){var e,t=!1;try{e=Object.defineProperty({},"passive",{get:function(){t=!0}}),window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(n){}return t},t}(wnd),CmpV1=function(){"use strict";var e="1",t=2e3,n=function(e){for(var t,n,i,r,o,s,a,l=window;!t;){try{l.frames.__cmpLocator&&(t=l)}catch(c){}if(l===window.top)break;l=l.parent}return n={},e.__cmp=function(e,o,s){return t?(i=Math.random().toString(32).substr(2),r={__cmpCall:{command:e,parameter:o,callId:i}},n[i]=s,void t.postMessage(r,"*")):void s({msg:"CMP not found"},!1)},a=function(t){try{o="string"==typeof t.data?JSON.parse(t.data):t.data,o.__cmpReturn&&(utils.removeEventListener(e,"message",a),s=o.__cmpReturn,n[s.callId]&&(n[s.callId](s.returnValue,s.success),n[s.callId]=null))}catch(i){}},utils.addEventListener(e,"message",a),function(){utils.removeEventListener(e,"message",a)}},i=function(i,r){var o,s,a=utils.canAccessTopWindow(),l=a?window.top:window,c=function(){l.__cmp("getConsentData",null,function(t,n){var s,a,l;if(null!=o){if(n&&null==t.consentData)return void setTimeout(c,0);clearTimeout(o),o=null,n?(s="available",a=t.gdprApplies?1:0,l=t.consentData):(s="error",a=utils.isInUE(i)?1:0,l=""),r(e,s,a,l)}})};return a||(s=n(l)),l.__cmp?(o=setTimeout(function(){o=null,s&&s(),r(e,"timeout",utils.isInUE(i)?1:0,"")},t),void c()):void r("","unavailable",utils.isInUE(i)?1:0,"")};return{readCMPData:i}}(),CmpV2=function(){"use strict";var e,t="2",n=2e3,i=function(){for(var e,t=window;t;){try{if(t.frames.__tcfapiLocator){e=t;break}}catch(n){}if(t===window.top)break;t=t.parent}return e},r=function(e){function t(e){var t,n={};try{n="string"==typeof e.data?JSON.parse(e.data):e.data}catch(i){}t=n.__tcfapiReturn,t&&"function"==typeof r[t.callId]&&(r[t.callId](t.returnValue,t.success),r[t.callId]=null)}var n=i(),r={};return e.__tcfapi=function(e,t,i,o){var s,a;n?(s=Math.random()+"",a={__tcfapiCall:{command:e,parameter:o,version:t,callId:s}},r[s]=i,n.postMessage(a,"*")):i({msg:"CMP not found"},!1)},utils.addEventListener(e,"message",t),function(){utils.removeEventListener(e,"message",t)}},o=function(i,o){var s,a,l,c,u,d;return e()?(u=utils.canAccessTopWindow(),d=u?window.top:window,null==d.__tcfapi&&(l=r(d)),s=function(){null!=a&&(clearTimeout(a),a=null),l&&l(),c&&(c=null,d.__tcfapi("removeEventListener",2,function(){},c))},a=setTimeout(function(){s(),o(t,"timeout",utils.isInUE(i)?1:0,"")},n),void d.__tcfapi("addEventListener",2,function(e,n){if(c=e.listenerId,null!=a)return n?n&&"tcloaded"===e.eventStatus?(s(),void o(t,"available",e.gdprApplies?1:0,e.tcString)):void(n&&"useractioncomplete"===e.eventStatus&&(s(),o(t,"available",e.gdprApplies?1:0,e.tcString))):(s(),void o(t,"error",utils.isInUE(i)?1:0,""))})):void o("","unavailable",utils.isInUE(i)?1:0,"")};return e=function(){return null!=window.__tcfapi||null!=i()},{isPresent:e,readCMPData:o}}(),Cmp=function(){"use strict";var e=function(e,t){CmpV2.isPresent()?CmpV2.readCMPData(e,t):CmpV1.readCMPData(e,t)};return{readCMPData:e}}(),viralize=function(e,t){"use strict";var n=inDapIF?window.top:e;n.__VR=n.__VR||{},n.__VR.widgets=n.__VR.widgets||[],n.__VR.customScripts=n.__VR.customScripts||{},n.__VR.dataLayers=n.__VR.dataLayers||{};var i="((https?:)?//)?{endpoint_host}/.*[?&]",r="kxviralize_segs",o="_kxviralize_segs",s="VR-DMP-COLLECT",a="VR-INJECTOR-INSTANCES-MAP",l={},c={};return c.__VR=n.__VR,c.findScript=function(e,t){var n=document.getElementsByTagName("script"),r=null,o=null,s=null;"undefined"!=typeof t&&null!==t&&(o=i+"zid="+t,o=o.replace("{endpoint_host}",e),s=new RegExp(o,"gi"));for(var a=function(e){return!e.hasAttribute("data-injected")&&!!(null!==e.getAttribute("data-wid")||s&&s.test(e.getAttribute("src")))},l=n.length;l--;)if(a(n[l])){r=n[l];break}return r},c.findIframe=function(){return window.frameElement},c.generateSuffixId=function(){return Math.random().toString(32).substr(2)},c.markAsInjected=function(e){e.hasAttribute("data-injected")||e.setAttribute("data-injected",!0)},c.register=function(e,t,n){var i,r,o,s,l,u;if(t&&n&&this.registerOnSafeFrameApi(t,n),i={},r=utils.sessionStorage().getItem(a),null!=r&&(i=JSON.parse(utils.sessionStorage().getItem(a))),o=i[e.injectorName]||{count:0,instances:{}},s=o.count,l=e.config.get("max_family_instances",0),u=e.config.get("sid"),l>0&&s>=l)throw new MaxInstancesError("Sorry, but the "+e.injectorName+" format can be used at most "+l+" times.");if(o.instances[u])throw new DuplicateInjectorError("Duplicated injector for sid: "+u);o.instances[u]=!0,o.count+=1,i[e.injectorName]=o,utils.sessionStorage().setItem(a,JSON.stringify(i)),c.__VR.widgets.push(e)},c.registerOnSafeFrameApi=function(t,n){e.$sf&&e.$sf.ext&&e.$sf.ext.register(t,n)},c.unRegister=function(e){var t,n,i,r={},o=utils.sessionStorage().getItem(a);for(null!=o&&(r=JSON.parse(utils.sessionStorage().getItem(a))),t=r[e.injectorName]||{count:0,instances:{}},n=e.config.get("sid"),t.count>0&&(t.count-=1),r[e.injectorName]=t,utils.sessionStorage().setItem(a,JSON.stringify(r)),i=0;i<c.__VR.widgets.length;i+=1)c.__VR.widgets[i].config.get("sid")===n&&c.__VR.widgets.splice(i,1)},c.replaceInjector=function(e){for(var n=t.createElement("script"),i=e.attributes,r=0;r<i.length;r++)"data-injected"!==i[r].nodeName&&n.setAttribute(i[r].nodeName,i[r].value);n.src=n.src+"&cb="+(new Date).getTime();var o=e.parentNode;o.insertBefore(n,e),o.removeChild(e)},c.createIframe=function(e,n,i){var r=n?n+"px":"100%",o=i?i+"px":"100%",s={allowfullscreen:!0,webkitallowfullscreen:t.webkitFullscreenEnabled,mozallowfullscreen:t.mozFullScreenEnabled},a=utils.Element.create("iframe",{id:e,src:"about:blank",scrolling:"no",frameborder:0,marginheight:0,marginwidth:0,allow:"autoplay; fullscreen",width:r,height:o});for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&s[l]&&a.attr(l,s[l]);return a.elem.style.width=r,a.elem.style.height=o,a},c.createPageId=function(t){function n(){var e,t=52,n="",i=(new Date).getTime();for(i=utils.pad(i.toString(16),12),e=0;e<t;e+=1)n+=Math.round(Math.random()).toString();return n=parseInt(n,2).toString(16),i+n}var i,r,o=c.getPublishingPlatform(t),s=e.navigator?e.navigator:null,a=t.get("publisher"),l=t.get("page_url"),u=s?s.userAgent||"":"",d=utils.hashCode(a+l+u),p=utils.pad((16777215&d).toString(16),6),f=0;return o===ViewabilityFactory.publishingPlatform.ACCELERATED_MOBILE_PAGE_AD?(r=utils.getAmpAdWindowWithContext(),r.context.computeInMasterFrame(r,"VR-PAGEID-PREFIX",function(e){e(n())},function(e){i=e})):i=n(),i+p+f},c.getPublishingPlatform=function(e){var t=e.get("pub_platform","");return null!=utils.getAmpAdContext()?ViewabilityFactory.publishingPlatform.ACCELERATED_MOBILE_PAGE_AD:t===ViewabilityFactory.publishingPlatform.ACCELERATED_MOBILE_PAGE_AD?"":null!=utils.getAmpVideoIframe()?ViewabilityFactory.publishingPlatform.ACCELERATED_MOBILE_PAGE_IFRAME:t===ViewabilityFactory.publishingPlatform.ACCELERATED_MOBILE_PAGE_IFRAME?"":t},c.createSrc=function(n,i,r,o,s){var a,l,u={},d=utils.getRealDomain();return c.__VR.pageId=c.__VR.pageId||c.createPageId(o),l=s||{},l.player_size||(l.player_size={width:0,height:0}),a={page_id:c.__VR.pageId,screen:utils.getScreenSize(e),page:utils.getPageSize(e),viewport:utils.getViewportSize(e),player_size:{width:Math.round(l.player_size.width),height:Math.round(l.player_size.height)},semantic_data:l.semantic_data},l.player_position&&(a.player_position={top:Math.round(l.player_position.top),left:Math.round(l.player_position.left)}),u.player_session=JSON.stringify(a),t.referrer&&(u.r=t.referrer),l.cid&&(u.cid=l.cid),l.sound&&(u.sound=l.sound),l.gallery_init&&(u.gallery_init=l.gallery_init),l.sessionCounter>0&&(u.sc=l.sessionCounter),l.pub_platform&&(u.pub_platform=l.pub_platform),l.activation&&(u.activation=l.activation),l.cs&&(u.cs=l.cs),null!=l.gdpr&&(u.gdpr=l.gdpr),l.cmp&&(u.cmp=l.cmp),null!=l.cmp_ver&&(u.cmp_ver=l.cmp_ver),d&&(u.dd=d),n+"/"+i+"/?"+r+"&"+utils.urlEncode(u)},c.createPlayerSrc=function(e,t){var n=e.get("is_preview"),i=e.get("is_test"),r=n?"preview":i?"test":"player",o=t||{};return c.createSrc(e.get("scheme")+"://"+e.get("endpoint_host"),r,e.get("base_query"),e,o)},c.findInjectionElem=function(e,t){var n={script:"",iframe:""};return n.iframe=c.findIframe(),n.script=document.currentScript||c.findScript(e,t),null===n.script&&utils.trackRequestEvent("adunit_request_error",Constants.ADUNIT_REQUEST_ERRORS.SCRIPT_NOT_FOUND),n},c.isInHead=function(e){for(var t=e.parentNode;null!=t;){if("head"===t.nodeName.toLowerCase())return!0;t=t.parentNode}return!1},c.setElementRemovedListener=function(e,t,n){function i(e,t){for(var n=t;null!=n;){if(e===n)return!0;n=n.parentNode}return!1}var r={childList:!0,subtree:!0};this.unsetElementRemovedListener();try{l=new MutationObserver(function(e){e.forEach(function(e){if(e.removedNodes.length>0)for(var r=0;r<e.removedNodes.length;r++)i(e.removedNodes[r],t)&&n()})}),l.observe(e,r)}catch(o){}},c.unsetElementRemovedListener=function(){l.disconnect&&(l.disconnect(),l={})},c.addPluginsForNotBlacklisted=function(e,t,n){var i={179:!0,358:!0,711:!0};null!=n&&null!=i[n]||c.addCustomScripts(e,null,t)},c.addCustomScripts=function(e,n,i){function r(e){var t=e;return i&&Object.keys(i).forEach(function(e){t=t.split("{"+e+"}").join(i[e])}),t}function o(e){var n=t.createElement("script");n.setAttribute("id",l+e.id),n.src=r(e.src),n.setAttribute("async",""),n=t.body.appendChild(n)}function s(e){utils.Element.insertHTMLBefore(a,l+e.id,r(e.content))}var a,l="";n&&(l=n+"-"),a=t.createElement("placeholder"),t.body.appendChild(a);for(var u=0;u<e.length;u++)c.__VR.customScripts[e[u].id]||(e[u].src?o(e[u]):e[u].content&&s(e[u]),c.__VR.customScripts[e[u].id]=!0);t.body.removeChild(a)},c.getInjectionPoint=function(n,i,r,o){for(var s=utils.Element.getAll(n),a=parseInt((r-i)/o)||1,l=function(e){return function(t){return 0!==t.offset().top&&t.text().length>e}},c=[],u=!1,d=r;d>=i;d-=a)if(c=utils.filter(s,utils.bind(l(d),this)),c.length>0){u=!0;break}if(u){var p=e.innerHeight;void 0===p&&(p=t.documentElement.clientHeight),c=utils.filter(c,function(e){return e.offset().top>p});var f=c.sort(function(e,t){return e.offset().top-t.offset().top});return f[0]?f[~~(f.length/2)]:null}return null},c.searchPlayerLocation=function(t,n,i){var r,o,s,a=function(e){for(var t=window,n=t.document.getElementById(e);null==n&&t!==t.parent&&utils.canAccessWindow(t.parent);)t=t.parent,n=t.document.getElementById(e);return null!==n&&(n=new utils.Element(n)),n},l=function(e){for(var t=window,n=t.document.querySelector(e);null==n&&t!==t.parent&&utils.canAccessWindow(t.parent);)t=t.parent,n=t.document.querySelector(e);return null!==n&&(n=new utils.Element(n)),n},u=new RegExp(/^id-.*/),d=new RegExp(/^sel-.*/),p=t.length,f="article p",h=10,m=100,y=20,g={auto:Constants.ADUNIT_REQUEST_ERRORS.LOCATION_AUTO_ERROR,inline:Constants.ADUNIT_REQUEST_ERRORS.LOCATION_INLINE_ERROR,idSelector:Constants.ADUNIT_REQUEST_ERRORS.LOCATION_BY_ID_ERROR,querySelector:Constants.ADUNIT_REQUEST_ERRORS.LOCATION_BY_SELECTOR_ERROR};for(s=0;s<p;s+=1){if(r=t[s],"inline"===r)return!i||""!==n&&n||utils.trackRequestEvent("adunit_request_error",g.inline),{playerLocation:n,usedCriteria:r};if("auto"===r?o=c.getInjectionPoint(f,h,m,y):u.test(r)?(o=a(r.slice(3)),r="idSelector"):d.test(r)&&(o=l(e.decodeURIComponent(r.slice(4))),r="querySelector"),o)return{playerLocation:o.elem,usedCriteria:r}}return i&&utils.trackRequestEvent("adunit_request_error",g[r]),{playerLocation:null,usedCriteria:null}},c.sendDmpData=function(t,n,i){c.readDmpUserSegments(r,function(e){c.setCookieSyncPixel(t,e)},i),c.__VR.dataLayers.dmp=c.__VR.dataLayers.dmp||{collected:!1,data:{}},c.__VR.dataLayers.dmp.collected||(c.__VR.dataLayers.dmp.collected=!0,c.__VR.dataLayers.dmp.data=n||{},e.dispatchEvent(new utils.CustomEvent(s)))},c.readDmpUserSegments=function(e,t,n){var i=250,r=function(e){function t(e){var t,n,i,r=e.length;for(n=0;n<r;n++){for(t=e[n],i=n-1;i>-1&&e[i]>t;i--)e[i+1]=e[i];e[i+1]=t}return e}return e?t(e.split(",")).join(","):""},s=r(n),a=localStorage.getItem(o),l=0,c=2,u=function(){var n,d=localStorage.getItem(o)!==a;d?(l+=1,n=r(localStorage.getItem(e)),n!==s?t(n):l<c&&setTimeout(u,i)):setTimeout(u,i)};setTimeout(u,i)},c.setCookieSyncPixel=function(e,t){var n=window.encodeURIComponent(t),i=e+"/u-segment/?seg="+n,r=new Image;r.onload=function(){},r.src=i},c.readCMPData=function(e,t){var n,i=e.get("gdpr");return i?(n=i.cs||"",void t("",i.cmp,i.gdpr?1:0,n)):void Cmp.readCMPData(e.get("country"),function(e,i,r,o){n=o||"",t(e,i,r,n)})},c.setupVPT=function(e){var t,n,i={EVENTS:e.EVENTS,ALL_ZID:e.ALL_ZID,queue:e.queue,on:e.on,once:e.once,off:e.off,addConfig:e.addConfig,getConfig:e.getConfig,play:e.play,pause:e.pause,mute:e.mute,unmute:e.unmute,enterFullscreen:e.enterFullscreen,exitFullscreen:e.exitFullscreen,showControls:e.showControls,hideControls:e.hideControls};n=window,utils.canAccessTopWindow()&&(n=window.top),null!=n.vpt?"[object Array]"===Object.prototype.toString.call(n.vpt.queue)&&(t=n.vpt.queue,n.vpt=i,c.__VR.vptimpl=e,t.forEach(function(e){e()})):(n.vpt=i,c.__VR.vptimpl=e)},c.evaluatePlayerPosition=function(t,n){var i,r,o,s,a=null,l=t.getBoundingClientRect();return n===ViewabilityFactory.publishingPlatform.ACCELERATED_MOBILE_PAGE_AD?(s=utils.getAmpAdContext(),a={top:s.initialLayoutRect.top,left:s.initialLayoutRect.left}):e!==window.top?inDapIF?(a=utils.getFifAbsolutePosition(e),a.top+=l.top,a.left+=l.left):e.$sf&&e.$sf.ext&&(o=e.$sf.ext.geom(),null!=o&&null!=o.self&&null!=o.self.t&&null!=o.self.l&&(a={top:o.self.t,left:o.self.l})):(i=e.pageYOffset||e.document.documentElement.scrollTop||e.document.body.scrollTop||0,r=e.pageXOffset||e.document.documentElement.scrollLeft||e.document.body.scrollLeft||0,a={top:l.top+i,left:l.left+r}),a},c}(wnd,doc),setupVPTImpl=function(){"use strict";function e(e,t){var n,i=r.getVrApis(t);if(null!=i)for(n=0;n<i.length;n+=1)i[n][e]()}var t={},n={},i={},r={},o="DELETED",s=function(e,t){var n=e+";"+t,i=Math.random().toString(32).substr(2);return n+";"+i},a=function(e,n,i){null!=t[e]&&null!=t[e][n]&&null!=t[e][n][i]&&(t[e][n][i]=o)},l=function(e,n){null!=t[e]&&null!=t[e][n]&&Object.keys(t[e][n]).forEach(function(t){a(e,n,t)})},c=function(e){var t={event:r.EVENTS.ALL,zid:r.ALL_ZID};return utils.isString(e)?t.event=e:(t.event=e.event||t.event,t.zid=e.zid||t.zid),t},u=function(e,t){Object.keys(t).forEach(function(n){e.push(t[n])})},d=function(e,n){var i=[],o=r.ALL_ZID,s=r.EVENTS.ALL;return t[o]&&t[o][s]&&u(i,t[o][s]),n!==o&&t[n]&&t[n][s]&&u(i,t[n][s]),e!==s&&(t[o]&&t[o][e]&&u(i,t[o][e]),t[n]&&t[n][e]&&u(i,t[n][e])),i};return r.emit=function(e,t,n,i){var r=d(e,t),s={event:e,zid:t,format:n,data:i,timestamp:(new Date).getTime()};r.forEach(function(e){e!==o&&window.setImmediate(function(){e(s)})})},r.on=function(e,n){var i=c(e),r=s(i.zid,i.event);for(t[i.zid]||(t[i.zid]={}),t[i.zid][i.event]||(t[i.zid][i.event]={});null!=t[i.zid][i.event][r];)r=s(i.zid,i.event);return t[i.zid][i.event][r]=n,r},r.once=function(e,n){var i=c(e),s=r.on(i,function(e){t[i.zid][i.event][s]!==o&&(r.off(i,s),n(e))});return s},r.off=function(e,t){var n=c(e);null!=t?a(n.zid,n.event,t):l(n.zid,n.event)},r.EVENTS={ALL:"VPT-EVENT::*",PLAYER_READY:"VPT-EVENT::PLAYER_READY",ACTIVATION:"VPT-EVENT::ACTIVATION",COLLAPSE:"VPT-EVENT::COLLAPSE",END:"VPT-EVENT::END",AD_SESSION_START:"VPT-EVENT::AD_SESSION_START",AD_SESSION_END:"VPT-EVENT::AD_SESSION_END",AD_IMPRESSION:"VPT-EVENT::AD_IMPRESSION",START:"VPT-EVENT::START",FIRST_QUARTILE:"VPT-EVENT::FIRST_QUARTILE",MID_POINT:"VPT-EVENT::MID_POINT",THIRD_QUARTILE:"VPT-EVENT::THIRD_POINT",COMPLETE:"VPT-EVENT::COMPLETE",CONTENT_START:"VPT-EVENT::CONTENT_START",CONTENT_END:"VPT-EVENT::CONTENT_END",ERROR:"VPT-EVENT::ERROR",CLICK:"VPT-EVENT::CLICK",SKIP:"VPT-EVENT::SKIP",PLAYING:"VPT-EVENT::PLAYING",PAUSED:"VPT-EVENT::PAUSED",MUTED:"VPT-EVENT::MUTED",UNMUTED:"VPT-EVENT::UNMUTED"},r.ALL_ZID="VPT-ZID::*",r.queue={push:function(e){setTimeout(e,0)}},r.addConfig=function(){var e,t;utils.isString(arguments[0])?(e=arguments[0],t=arguments[1]):(e=r.ALL_ZID,t=arguments[0]),n[e]=t},r.getConfig=function(e){return null!=n[e]?n[e]:n[r.ALL_ZID]},r.addVrApi=function(e,t){return null==i[e]&&(i[e]=[]),i[e].push(t),i[e].length-1},r.removeVrApi=function(e,t){null!=i[e]&&null!=i[e][t]&&(i[e][t]=null)},r.play=function(){e("play",Array.prototype.slice.call(arguments))},r.pause=function(){e("pause",Array.prototype.slice.call(arguments))},r.mute=function(){e("mute",Array.prototype.slice.call(arguments))},r.unmute=function(){e("unmute",Array.prototype.slice.call(arguments))},r.enterFullscreen=function(){e("enterFullscreen",Array.prototype.slice.call(arguments))},r.exitFullscreen=function(){e("exitFullscreen",Array.prototype.slice.call(arguments))},r.showControls=function(){e("showControls",Array.prototype.slice.call(arguments))},r.hideControls=function(){e("hideControls",Array.prototype.slice.call(arguments))},r.getVrApis=function(e){var t,n;return t=e.length>0&&utils.isString(e[0])?e[0]:r.ALL_ZID,t!==r.ALL_ZID?n=i[t]:(n=[],Object.keys(i).forEach(function(e){n=n.concat(i[e])})),null==n||0===n.length?[]:utils.filter(n,function(e){return null!=e})},function(){viralize.setupVPT(r)}}(),Banner=function(e,t,n,i,r,o,s,a,l){"use strict";var c=function(){return this instanceof c?(this.log=new Log("Banner"),this.width=i.get("width"),this.height=i.get("height"),this.injectorName="banner",this.suffixId=r.generateSuffixId(),this.detectedPlatform=r.getPublishingPlatform(i),this.computedPlayerConf=null,this.script=null,this.injectionElem=null,this.currentDisplayedSlot={iframe:null,wrapperElement:null,startViewabilityCallBackId:null,startIABViewabilityCallBackId:null,stopViewabilityCallBackId:null,stopIABViewabilityCallBackId:null,injectorPlayerEmitter:null},this.newPlayerLoadingSlot={iframe:null,wrapperElement:null,startViewabilityCallBackId:null,startIABViewabilityCallBackId:null,stopViewabilityCallBackId:null,stopIABViewabilityCallBackId:null,injectorPlayerEmitter:null},this.config=i,this.bannerRefreshTimeout=2e4,this.refreshIfFirstNotFill=!1,this.maxNumberOfImpressions=10,this.maxNumberOfRetries=10,this.somethingFill=!1,this.numberOfImpressions=0,this.numberOfRetries=0,void(this.cssLoader=null)):new c};return c.prototype.performFallback=function(){r.unRegister(this);var e="viralize-fallback-"+this.suffixId,t=o.Element.insertHTMLBefore(this.script,e,i.get("fallback_body"));this.currentDisplayedSlot.wrapperElement&&this.currentDisplayedSlot.wrapperElement.hide(),this.newPlayerLoadingSlot.wrapperElement&&this.newPlayerLoadingSlot.wrapperElement.hide(),this.currentDisplayedSlot&&this.currentDisplayedSlot.injectorPlayerEmitter&&this.currentDisplayedSlot.injectorPlayerEmitter.off(),this.newPlayerLoadingSlot&&this.newPlayerLoadingSlot.injectorPlayerEmitter&&this.newPlayerLoadingSlot.injectorPlayerEmitter.off(),t&&o.trackRequestEvent("adunit_response_fallback")},c.prototype.cleanViewability=function(e){null!=e.startViewabilityCallBackId&&null!=e.injectorPlayerEmitter&&e.injectorPlayerEmitter.off("cmd::startViewability",e.startViewabilityCallBackId),null!=e.startIABViewabilityCallBackId&&null!=e.injectorPlayerEmitter&&e.injectorPlayerEmitter.off("cmd::startIABViewability",e.startIABViewabilityCallBackId),null!=e.stopViewabilityCallBackId&&null!=e.injectorPlayerEmitter&&e.injectorPlayerEmitter.off("cmd::stopViewability",e.stopViewabilityCallBackId),null!=e.stopIABViewabilityCallBackId&&null!=e.injectorPlayerEmitter&&e.injectorPlayerEmitter.off("cmd::stopIABViewability",e.stopIABViewabilityCallBackId),e.startViewabilityCallBackId=null,e.startIABViewabilityCallBackId=null,e.stopViewabilityCallBackId=null,e.stopIABViewabilityCallBackId=null},c.prototype.setupViewability=function(t){this.cleanViewability(t);var n=s.getInstance(this.detectedPlatform,t.iframe.elem,e,function(){return!1},o.bind(function(e){t.injectorPlayerEmitter.emit("inj::viewability",e)},this)),i=new a(n,o.bind(function(){t.injectorPlayerEmitter.emit("inj::viewable")},this),1);t.startViewabilityCallBackId=t.injectorPlayerEmitter.on("cmd::startViewability",o.bind(function(){try{n.start(),t.injectorPlayerEmitter.emit("inj::viewabilityAvailable")}catch(e){t.injectorPlayerEmitter.emit("inj::viewabilityNotAvailable")}},this)),t.startIABViewabilityCallBackId=t.injectorPlayerEmitter.on("cmd::startIABViewability",function(){try{i.start()}catch(e){}}),t.stopViewabilityCallBackId=t.injectorPlayerEmitter.on("cmd::stopViewability",function(){n.stop()}),t.stopIABViewabilityCallBackId=t.injectorPlayerEmitter.on("cmd::stopIABViewability",function(){i.stop()})},c.prototype.removeGoogleBidders=function(e){for(var t=[],n=0;n<e.banneradns.length;n++)"google"!==e.banneradns[n].bidder.bidder.toLowerCase()&&t.push(e.banneradns[n]);e.banneradns=t},c.prototype.createBannerSlot=function(e,t){var n=r.createIframe("vr-"+this.suffixId+"-banner-"+e,this.width,this.height),i=o.Element.create("div");i.attr("id",o.classNamePrefix(this.cssNamespace,["wrapper"])+"-"+e),n.appendTo(i.elem),t.iframe=n,t.wrapperElement=i,t.idPostfix=e},c.prototype.loadPlayer=function(e,t,n){var s,a,l=this;n.on("event::loadPlayerError",function(){l.removePlayer(e,function(){0===l.numberOfImpressions&&l.performFallback()},!1)}),a=this.numberOfRetries+1,this.computedPlayerConf.sessionCounter=a,s=r.createPlayerSrc(i,this.computedPlayerConf),e.injectorPlayerEmitter&&e.injectorPlayerEmitter.off(),e.injectorPlayerEmitter=n,o.loadPlayerIframe(e.iframe,s,i,function(e){r.sendDmpData(i.get("scheme")+"://"+i.get("endpoint_host"),e,i.get("dmp_segments"))},t,e.injectorPlayerEmitter),this.setupViewability(e)},c.prototype.removePlayer=function(e,n,i){function o(){r.unsetElementRemovedListener(),s.cleanViewability(e),null!=e.wrapperElement&&null!=e.wrapperElement.elem&&null!=e.iframe&&null!=e.iframe.elem&&(e.iframe.remove(),e.iframe=r.createIframe("vr-"+s.suffixId+"-banner-"+e.idPostfix,s.width,s.height),e.iframe.appendTo(e.wrapperElement.elem),r.setElementRemovedListener(t.body,s.injectionPoint,function(){throw new Error("Player removed by an external script")}),n())}var s=this;i&&null!=e.injectorPlayerEmitter?(e.injectorPlayerEmitter.once("cmd::remove",o),e.injectorPlayerEmitter.emit("inj::clean")):o()},c.prototype.refreshLoop=function(e){var t,n=o.bind(function(){if(!this.refreshIfFirstNotFill&&!this.somethingFill)return void this.performFallback();if(e.success!==!0||"GOOGLE"!==e.type)return this.numberOfRetries+=1,this.numberOfRetries>=this.maxNumberOfRetries||this.numberOfImpressions>=this.maxNumberOfImpressions?void(this.somethingFill||this.performFallback()):void setTimeout(o.bind(function(){var e=new EventEmitter;e.on("inj::adFillBanner",o.bind(this.refreshLoop,this)),e.on("inj::adBlocked",o.bind(function(){this.currentDisplayedSlot.wrapperElement.hide()},this)),this.loadPlayer(this.newPlayerLoadingSlot,this.removeGoogleBidders,e)},this),this.bannerRefreshTimeout)},this);e.success===!0?(this.somethingFill=!0,this.numberOfImpressions+=1,t=this.currentDisplayedSlot,this.currentDisplayedSlot=this.newPlayerLoadingSlot,this.newPlayerLoadingSlot=t,this.newPlayerLoadingSlot.wrapperElement.hide(),this.currentDisplayedSlot.wrapperElement.show(),this.removePlayer(this.newPlayerLoadingSlot,n,!0)):this.removePlayer(this.newPlayerLoadingSlot,n,!0)},c.prototype.setupRefresh=function(){var e=new EventEmitter;e.on("inj::adFillBanner",o.bind(this.refreshLoop,this)),e.on("inj::adBlocked",o.bind(function(){this.currentDisplayedSlot.wrapperElement.hide()},this)),this.loadPlayer(this.newPlayerLoadingSlot,null,e)},c.prototype.inject=function(){var e,n=i.get("zid"),a=i.get("endpoint_host"),l=r.findInjectionElem(a,n),c=this.script=l.script;if(null===c)return null;r.markAsInjected(c),this.injectionElem=c;var u=o.getCustomCss(c)||i.get("custom_style");this.cssLoader=new CssLoader(this.suffixId,cssTpl,u),this.cssNamespace=this.cssLoader.getCssNameNamespace(),this.createBannerSlot("main",this.newPlayerLoadingSlot),this.createBannerSlot("secondary",this.currentDisplayedSlot),this.script.style.display="none";var d=i.get("pub_platform","");d===s.publishingPlatform.OEMBED&&this.detectedPlatform!==s.publishingPlatform.OEMBED?d+="-"+this.detectedPlatform:d=this.detectedPlatform,e=o.bind(function(e){try{r.register(this,this.width,this.height)}catch(n){return n instanceof DuplicateInjectorError&&r.replaceInjector(this.script),null}if(r.isInHead(e))throw o.trackRequestEvent("adunit_request_error",Constants.ADUNIT_REQUEST_ERRORS.SCRIPT_IN_HEAD),new Error('You are trying to put the player into the head.Please check the script location or the "location" parameter');e.parentNode.insertBefore(this.newPlayerLoadingSlot.wrapperElement.elem,e),e.parentNode.insertBefore(this.currentDisplayedSlot.wrapperElement.elem,e),this.cssLoader.loadStyle(this.currentDisplayedSlot.wrapperElement.elem),this.currentDisplayedSlot.wrapperElement.hide(),r.setElementRemovedListener(t.body,e,function(){throw new Error("Player removed by an external script")}),r.readCMPData(i,o.bind(function(e,t,n,o){var s,a;a=r.evaluatePlayerPosition(this.newPlayerLoadingSlot.wrapperElement.elem,this.detectedPlatform),this.computedPlayerConf={player_size:{width:this.width,height:this.height},pub_platform:d,cs:o,gdpr:n,cmp:t,cmp_ver:e,sessionCounter:null},a&&(this.computedPlayerConf.player_position=a),this.setupRefresh(),s={gdpr_consent:o,gdpr:n,country:i.get("country")},r.addPluginsForNotBlacklisted(i.get("plugins",[]),s,i.get("publisher"))},this))},this);var p=i.get("location",["inline"]),f=r.searchPlayerLocation([p[0]],this.injectionElem,!1).playerLocation;f?e(f):o.onDOMContentLoaded(o.bind(function(){f=r.searchPlayerLocation(p,this.injectionElem,!0).playerLocation,e(f)},this))},c}(wnd,doc,inDapIF,config,viralize,utils,ViewabilityFactory,IABViewability,detect),templates={banner:'<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset="UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1">\n        {{scripts}}\n        <script type="text/javascript">\n            Ecg(window, "ecg", "{{ecgEndpoint}}");\n            ecg("create");\n        </script>\n        <title>Viralize Display Banner</title>\n    </head>\n    <body>\n        <iframe\n            id="prebid-ad-slot"\n            frameborder="0"\n            scrolling="no"\n            marginheight="0"\n            marginwidth="0"\n            topmargin="0"\n            leftmargin="0"\n            allowtransparency="true"\n            width="0"\n            height="0"\n        ></iframe>\n        <iframe\n            id="google-ad-slot"\n            frameborder="0"\n            scrolling="no"\n            marginheight="0"\n            marginwidth="0"\n            topmargin="0"\n            leftmargin="0"\n            allowtransparency="true"\n            width="0"\n            height="0"\n        ></iframe>\n        <script type="text/javascript">\n            // As we need to sandbox google script, we cannot use templateloader features\n            // so we need to load google gpt script manually here\n            var gptScript = document.createElement(\'script\');\n            gptScript.src = \'//www.googletagservices.com/tag/js/gpt.js\';\n            var googleIframe = document.getElementById(\'google-ad-slot\');\n            var targetDoc = (googleIframe.contentDocument || googleIframe.contentWindow.document);\n            if (!targetDoc.body) {\n                targetDoc.body = document.createElement(\'body\');\n            }\n            targetDoc.body.appendChild(gptScript);\n        </script>\n        <script type="text/javascript">\n            function onPlayerReady (config, injectorPlayerEmitter, vpt) {\n                window.config = config;\n                window.injectorPlayerEmitter = injectorPlayerEmitter;\n\n                if (vpt != null) {\n                    window.vpt = vpt;\n                }\n\n                var user_data = config.user_data || {};\n                var sentryConfig = {{sentryConfig}};\n                var banner = new Banner(config, sentryConfig);\n                injectorPlayerEmitter.emit("cmd::dmp_user_data", user_data);\n            }\n\n            if (window.config && window.injectorPlayerEmitter) {\n                // window.vpt could be undefined, and this is the expected behaviour\n                // for format without the api (as vpaid)\n                onPlayerReady(window.config, window.injectorPlayerEmitter, window.vpt);\n            } else {\n                window.onPlayerReady = onPlayerReady;\n            }\n        </script>\n    </body>\n</html>\n'};!function(e){"use strict";var t;setupVPTImpl(),t=new e,t.inject()}(Banner);
        })({"dmp_segments": "", "experiment": "ops.", "sentry": {"dsn": "https://1aec9d790bc84140bb25fdb76f019171@sentry.viralize.com/6", "sample_rate": 0.05}, "endpoint_host": "ads.viralize.tv", "location": ["inline"], "fallback_body": "", "scheme": "https", "is_preview": false, "width": 300, "plugins": [{"id": "113", "content": "<script language=\"javascript\" type=\"text/javascript\">\r\n\ts = document.createElement('script');\r\n\ts.src='https://sync.richaudience.com/b3adde1f4bbb31c3485562d6e3ddceb4/js/?r='+Math.round(Math.random()*99999999999); \r\n\tdocument.body.append(s);\r\n</script>"}, {"id": "41", "content": "<script type=\"text/javascript\">function setUpAgknTag(tag) {\r\ntag.setGdpr(\"{gdpr}\");tag.setGdprConsent(\"{gdpr_consent}\");\r\ntag.setBpId(\"viralizeit\");}</script>\r\n<script src=\"//js.agkn.com/prod/v0/tag.js\" async></script>"}, {"id": "3", "content": "<script>\r\n\t// Smart RTB+ force cookie-sync code - https only - 2020-02-04\r\n       var c ={\r\n           'insertionId' : 5733718,\r\n           'pageId' : 692816,\r\n           'domain' : 'www8.smartadserver.com'\r\n       }\r\n       var h = document.getElementsByTagName('head')[0];\r\n       var sl = document.createElement('script');\r\n       sl.type = 'text/javascript';\r\n       sl.src =  'https://'+ c.domain+'/ac?pgid='+c.pageId+'&insid='+c.insertionId+'&tmstp='+Math.round(Math.random()*10000000000)+'&out=js';\r\n       sl.async = true;\r\n       h.appendChild(sl);\r\n</script>"}, {"id": "1", "content": "<img src=\"//ads.stickyadstv.com/auto-user-sync\" style=\"display:none;\" width=\"1\" height=\"1\">"}], "page_url": "https://www.gpucheck.com/es-eur/gpu-benchmark-comparison", "publisher": "4662", "pub_platform": null, "height": 250, "is_test": false, "format_family": "banner", "country": "ES", "zid": "AADQ4T-SHgM22Dmv", "sid": "01eafb80130f101ef96018d0c964a201", "player": {"script": "https://static.viralize.tv/viralize_player_banner.min.1e05f5e8.js?e=ops", "mobi": false}, "gdpr": null, "base_query": "zid=AADQ4T-SHgM22Dmv&sid=01eafb80130f101ef96018d0c964a201&activation=&experiment=ops.&u=https%3A%2F%2Fwww.gpucheck.com%2Fes-eur%2Fgpu-benchmark-comparison&ahd=1&dp1=0.15&dp3=1"});
        