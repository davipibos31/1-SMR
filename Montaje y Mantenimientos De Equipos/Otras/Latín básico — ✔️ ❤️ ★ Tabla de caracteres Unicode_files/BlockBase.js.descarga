"use strict";(function wrap(Unicode,go){Unicode.BlockBase=go.Class([go.Ext.Events],{__abstract:true,CSS_SEL:"sel-range",LINE_HEIGHT:47,__construct:function __construct(){this.node.click(this.onClickNode);},__destruct:function __destruct(){},calcBorders:function calcBorders(){var last=this.node.find("li").last();this.top=this.node.offset().top;this.bottom=last.offset().top + last.height();},getSymbolNode:function getSymbolNode(code){return this.node.find("li.symb").eq(code - this.code);},highlight:function highlight(begin,end){var lis=this.node.find("li.symb"),i;if (typeof begin !=="number"){begin=this.code;}if (typeof end !=="number"){end=this.code + Unicode.Config.BLOCK_SYMBOLS - 1;}begin -=this.code;end -=this.code;for (i=begin;i <=end;i +=1){lis.eq(i).addClass(this.CSS_SEL);}},highlightOff:function highlightOff(begin,end){var lis=this.node.find("li.symb"),i;if (typeof begin !=="number"){begin=this.code;}if (typeof end !=="number"){end=this.code + Unicode.Config.BLOCK_SYMBOLS - 1;}begin -=this.code;end -=this.code;for (i=begin;i <=end;i +=1){lis.eq(i).removeClass(this.CSS_SEL);}},setNum:function setNum(num){this.num=num;this.code=num * Unicode.Config.BLOCK_SYMBOLS;},getLineByTop:function getLineByTop(top){return this.calcLineByTop(top);},onClickNode:function onClickNode(e){var target=e.target,code,data;if ((!target) || (target.tagName !=="LI")){return;}target=$(target);if (target.hasClass("inactive")){return;}code=target.data("code");if (typeof code !=="undefined"){data={code:code,node:target};this.fireEvent("selectSymbol",data);e.originalEvent._clickSymbol=true;}},calcLineByTop:function calcLineByTop(top){top -=this.top;if (top < 0){return null;}top=Math.floor(top / this.LINE_HEIGHT);return this.code + top * Unicode.Config.LINE_SIZE;}});})(Unicode,go);