(function (){var mobileFixedHeader=document.querySelector('.js-mobile-header');var breakpoint1024px=window.matchMedia( '(max-width:1024px)' );var lastScrollDistance=window.scrollY;var isMenuHidden=true;var scrollShowOffset=500;var swipeStartClientY;var swipeEndClientY;function adjustMenu(){const isScrolledTopToBottom=window.scrollY > lastScrollDistance;if (isAllowedResolution() && isScrolledEnough() && !isScrolledTopToBottom && isMenuHidden){showDebounced();}if (isScrolledTopToBottom && !isMenuHidden) hideDebounced();if (!isScrolledEnough() && isMenuFixed()){mobileFixedHeader.style.position='relative';}lastScrollDistance=window.scrollY;}function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if (!immediate) func.apply(context,args);};var callNow=immediate || !timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if (callNow) func.apply(context,args);};};function slideUp(element){if (window.scrollY > 100){element.style.top=`-300px`}}function slideDown(element){element.style.position="fixed";element.style.top=0;}function hideMenu(){slideUp(mobileFixedHeader);isMenuHidden=true;}function showMenu(){slideDown(mobileFixedHeader);isMenuHidden=false;}var showDebounced=debounce(function (){showMenu();},100);var hideDebounced=debounce(function (){hideMenu();},100);function isAllowedResolution(){return breakpoint1024px.matches;}function isMenuFixed(){return mobileFixedHeader.style.position=='fixed';}function isScrolledEnough(){return window.scrollY > scrollShowOffset;}function trackSwipeStart(event){var touchData=event.changedTouches[0];swipeStartClientY=touchData.clientY;}function MenuSwipeTracker(maxCoordStart){this.minDistanceToAct=50;this.maxDistanceToAct=200;this.maxCoordStart=maxCoordStart;this.show=function openMenuIfRequired(event){if (isStartCoordOk()) event.preventDefault();let coordsDiff=swipeEndClientY - swipeStartClientY;let isSwipeAppropriate=isStartCoordOk() && isDistanceOk(coordsDiff);if (isAllowedResolution() && isScrolledEnough() && isSwipeAppropriate && isMenuHidden){showMenu();}}this.hide=function hideMenuIfRequired(event){if (isStartCoordOk()) event.preventDefault();let coordsDiff=swipeStartClientY - swipeEndClientY;let isSwipeAppropriate=isStartCoordOk() && isDistanceOk(coordsDiff);if (isAllowedResolution() && isSwipeAppropriate && !isMenuHidden){hideMenu();}}var self=this;function isStartCoordOk(){return swipeStartClientY <=self.maxCoordStart;}function isDistanceOk(coordsDiff){return coordsDiff >=self.minDistanceToAct && coordsDiff <=self.maxDistanceToAct;}}function handleSwipe(event){var touchData=event.changedTouches[0];swipeEndClientY=touchData.clientY;const isSwipeTopToBottom=(swipeStartClientY - swipeEndClientY) < 0;if (isSwipeTopToBottom){let menuSwipe=new MenuSwipeTracker(70);menuSwipe.show(event);}else{let menuSwipe=new MenuSwipeTracker(200);menuSwipe.hide(event);}}window.addEventListener('scroll',adjustMenu);window.addEventListener('touchstart',trackSwipeStart,{passive:false});window.addEventListener('touchmove',handleSwipe,{passive:false});})();