var app=angular.module("cmApp",[]);
app.controller("CatalogController",["$scope","$location","$filter","$element","$sce","catalogFactory",function(r,e,t,o,n,a){r.arrUrl=[],r.initRunning=!1,r.groupedView=!1,r.groupBy=null,r.filteredProducts=new Array,r.maxcompare=3,r.comparedProducts=new Array,r.comparedisabled=!1;var i=function(e,t,o){var n=[];if(0===r.arrUrl.length)n.push({key:e,value:t});else if(n=new Array,!0===o)for(var a=0;a<r.arrUrl.length;a++)r.arrUrl[a].key!==e&&n.push(r.arrUrl[a]);else n=r.arrUrl,n.push({key:e,value:t});r.arrUrl=n},u=function(e,t){for(var o=r.filters,n=0;n<o.length;n++)if(o[n].urlname===e)for(var a=t.split("+"),i=0;i<a.length;i++)for(var u=0;o[n].items.length;u++)if(o[n].items[u].url===a[i]){o[n].items[u].checked=!0;break}},c=function(){if(""!==e.url()){var o=e.url().split("/");window.angular.forEach(o,function(e){if(""!==e){var o=e.split("=");"sort"===o[0]?(r.sort=decodeURIComponent(o[1]),r.groupBy=t("filter")(r.filters,{groupname:r.sort}),r.groupBy&&r.groupBy.length>0?(a.setGroupBy(r.groupBy),r.groupedView=!0):r.groupedView=!1):u(decodeURIComponent(o[0]),decodeURIComponent(o[1]))}})}return!0};r.filterByPropertiesMatchingAND=function(e){var t=!0;for(var o in r.filters)if(r.filters.hasOwnProperty(o)&&!(t=r.filterByPropertiesMatchingOR(e,r.filters[o].items)))break;return t},r.filterByPropertiesMatchingOR=function(r,e){var t=!0;for(var o in e)if(e.hasOwnProperty(o)&&e[o].checked){if(r.specifications.some(function(r){return r.id===e[o].id})){t=!0;break}t=!1}return t},r.updateFilterProductCount=function(r){return a.updateFilterProductCount(r)};var l=r.$watch("catalog",function(){r.initRunning=!0,""!==r.sort&&(r.sort="-releasedate"),a.init(r.culture,r.siteId,r.contentId,r.sort,r.isProductPageFromGlobal).then(function(){return!0}).then(function(){r.filters=a.getFilters(),c(),r.products=a.getProducts(r.filters),angular.element(a.getJsonLd()).appendTo($("#product-overview-container")),r.initRunning=!1}),l()});r.renewProducts=function(){a.setSort(r.sort),t("filter")(r.filters,{groupname:r.sort}).length>0?(r.groupedView=!0,r.groupBy=t("filter")(r.filters,{groupname:r.sort}),a.setGroupBy(r.groupBy)):(r.groupedView=!1,a.setGroupBy(null)),r.products=a.getProducts(r.filters)},r.$watch("filters",function(){r.initRunning||null!==r.filters&&(r.renewProducts(),window.angular.forEach(r.filters,function(e){var t=!1,o="";window.angular.forEach(e.items,function(e){!0===e.checked&&(t=!0,o=o+(o.length>0?"+":"")+e.url),e.amount=r.updateFilterProductCount(e)}),i(e.urlname,"",!0),t&&i(e.urlname,o)}))},!0),r.clearFilters=function(){window.angular.forEach(r.filters,function(r){window.angular.forEach(r.items,function(r){r.checked=!1})})},r.clearCompare=function(){window.angular.forEach(t("filter")(r.products.ungrouped,{compare:!0}),function(r){r.compare=!1}),r.comparedProducts=new Array,r.comparedisabled=!1},r.removeComparedProduct=function(e){window.angular.forEach(t("filter")(r.products.ungrouped,{compare:!0,id:e}),function(r){r.compare=!1});var o=new Array;window.angular.forEach(r.comparedProducts,function(r){r.id!==e&&o.push(r)}),r.comparedProducts=o,r.comparedProducts.length!==r.maxcompare&&(r.comparedisabled=!1)},r.$watch("sort",function(){r.initRunning||(i("sort","",!0),i("sort",r.sort),r.renewProducts())},!0),r.$watch("arrUrl",function(){if(!r.initRunning){var t="";window.angular.forEach(r.arrUrl,function(r){""!==r.value&&(t.length>0&&(t+="/"),t=t+r.key+"="+r.value)}),e.url(t)}},!0),r.compareClick=function(){r.comparedProducts=new Array;for(var e=0;e<r.products.ungrouped.length;e++)r.products.ungrouped[e].compare&&r.comparedProducts.push(r.products.ungrouped[e]);r.comparedProducts.length>=r.maxcompare?r.comparedisabled=!0:r.comparedisabled=!1},r.renderHtml=function(r){return n.trustAsHtml(r)}}]);
app.factory("catalogFactory",["$http","$filter","$q",function(e,t,r){function n(e){f=e}function i(t,n,i,o,a){s=t,c=i,d=o;var u=r.defer();return e({method:"GET",url:"/Api/"+s+"/Catalog/GetProducts/"+c+"?siteid="+n+"&isProductPageFromGlobal="+a}).then(function(e){I(e.data.Products),y(e.data.Filters),p=e.data.JsonLd,u.resolve()}),u.promise}function o(){var e=P();return 1===e.grouped.length&&(e.grouped[0].products=t("orderBy")(e.grouped[0].products,d)),e}function a(){return p}var u,s,c,d,f,p,l=[],g=[],h=function(e){d=e},m=function(e,t){var r=!0;for(var n in t)if(g.hasOwnProperty(n)&&!(r=v(e,t[n].items)))break;return r},v=function(e,t){var r=!0;for(var n in t)if(t.hasOwnProperty(n)&&t[n].checked){if(e.specifications.some(function(e){return e.id===t[n].id})){r=!0;break}r=!1}return r},w=function(e){var t=new Array;$.extend(!0,t,l);var r=new Array;$.extend(!0,r,g),r.length>0&&(window.angular.forEach(r,function(t){t.groupid===e.parentid&&window.angular.forEach(t.items,function(e){e.checked=!1})}),window.angular.forEach(t,function(e){e.show=m(e,r)}));for(var n=0,i=0;i<t.length;i++)for(var o=0;o<t[i].specifications.length;o++)if(t[i].specifications[o].id===e.id&&t[i].show){n++;break}return n},I=function(e){for(var t=0;t<e.length;t++){var r=new Array;if(e[t].SpecificationItems)for(var n=0;n<e[t].SpecificationItems.length;n++)r.push({id:e[t].SpecificationItems[n].Id,name:e[t].SpecificationItems[n].Title,parentid:e[t].SpecificationItems[n].ParentId});l.push({id:e[t].NodeId,title:e[t].Title,href:e[t].Href,specifications:r,releasedate:e[t].ReleaseDate,image:e[t].Image,image_hover:e[t].ImageHover,label:e[t].Label,releaseDate:e[t].ReleaseDate,compare:!1,show:!0})}},y=function(e){for(var t=0;t<e.length;t++){for(var r=new Array,n=0;n<e[t].Items.length;n++)r.push({parentid:e[t].Id,id:e[t].Items[n].Id,title:e[t].Items[n].Title,url:e[t].Items[n].UrlName,checked:!1,amount:0}),r[r.length-1].amount=w(r[r.length-1]);g.push({groupid:e[t].Id,urlname:e[t].UrlName,groupname:e[t].Title,items:r})}},P=function(){var e,r=[{groupname:"All",products:l}];if(f&&f.length>0)for(r=new Array,e=0;e<f[0].items.length;e++){var n=0,i=new Array;if(f[0].items[e].amount>0){var o=t("filter")(l,{$:f[0].items[e].id});for(a=0;a<f[0].items[e].amount;a++){if(o[n].specifications)for(j=0;j<o[n].specifications.length;j++)o[n].specifications[j].name==f[0].items[e].title&&i.push(o[n]);n++}i&&i.length>0&&r.push({groupname:f[0].items[e].title,hasProducts:!1,products:i})}}for(r={grouped:r,ungrouped:l},e=0;e<r.grouped.length;e++)for(var a=0;a<r.grouped[e].products.length;a++)r.grouped[e].products[a].show=m(r.grouped[e].products[a],g),r.grouped[e].products[a].show&&(r.grouped[e].hasProducts=!0);return u=r,r};return{init:i,getProducts:o,getFilters:function(){return g},setSort:h,setGroupBy:n,updateFilterProductCount:w,getJsonLd:a}}]);
app.controller("MemberController",["$scope","memberFactory",function(e,n){e.memberInfo={};var o=e.$watch("loginheader",function(){n.init().then(function(){return!0}).then(function(){e.memberInfo=n.getMemberInfo()}),o()})}]);
app.factory("memberFactory",["$http","$q",function(t,e){function n(){return(new Date).getTime()+""}function r(){return o}function a(){var r=e.defer();return t({method:"GET",url:"/Api/ssomember/Get"}).then(function(t){200===t.status&&null!==t.data&&(o={name:t.data.Name,avator:t.data.Avatar+"?d="+n()}),r.resolve()},function(t){o=null,r.resolve()}),r.promise}var o={};return{init:a,getMemberInfo:r}}]);
app.controller("NewsController",["$scope","newsFactory",function(n,e){n.pageNr=1,n.pageSize=11,n.tmpIndex=0,n.hasMore=!1,n.initRunning=!1,n.result=[];var t=function(){e.getNews(n.culture,n.pageId,n.pageSize,n.pageNr).then(function(){return!0}).then(function(){window.angular.forEach(e.getNewsResult(),function(e){n.result.push(e)}),n.initRunning=!1,n.hasMore=e.getHasMore()})},o=n.$watch("newsScope",function(){n.initRunning=!0,t(),o()});n.loadMore=function(){n.pageNr=n.pageNr+1,t()}}]);
app.factory("newsFactory",["$http","$q",function(e,t){function a(){return o}function r(){return i}function n(a,r,n,o){var f=t.defer();return u&&s(),u=!0,l=t.defer(),e({method:"GET",url:"/Api/"+a+"/News/Get?pageId="+r+"&pageSize="+n+"&pageNr="+o}).then(function(e){return u=!1,200===e.status&&null!==e.data&&(c(e.data),i=e.data.HasMore),f.resolve(!0)},function(e){return f.resolve(!1)}),f.promise}var o=[],u=!1,l=null,i=!1,s=function(){l.resolve("http call aborted")},c=function(e){o=[],window.angular.forEach(e,function(e){window.angular.forEach(e,function(e){o.push({title:e.Title,introText:e.IntroText,publishDate:e.PublishDate,searchResultPublishDate:e.SearchResultPublishDate,mobileImage:e.MobileImage,tabletImage:e.TabletImage,desktopImage:e.DesktopImage,href:e.Href,lazyload:"lazyload"})})})};return{getNews:n,getNewsResult:a,getHasMore:r}}]);
app.controller("SearchController",["$scope","searchFactory",function(e,t){e.initRunning=!1,e.result={},e.searchTypes={},e.typedResult=[],e.selectedType="",e.totalResult=0;var n=function(){window.angular.forEach(e.result,function(t){e.totalResult+=t.items.length})},u=function(t){e.typedResult=[],window.angular.forEach(e.result,function(n,u){0===u?window.angular.forEach(e.result,function(t){window.angular.extend(e.typedResult,t.items)}):n.type===t&&(e.typedResult=n.items)})},l=function(){t.doSearch(e.culture,e.siteId,e.searchTerm).then(function(){return!0}).then(function(){e.result=t.getSearchResult(),null!==e.result&&e.result.length>0&&(e.selectedType.length>0?u(e.selectedType):t.getHasProducts()?(u("umbproductpage"),e.selectedType="umbproductpage"):(u(e.result[0].type),e.selectedType=e.result[0].type)),n(),e.initRunning=!1})},r=e.$watch("searchScope",function(){e.initRunning=!0,l(),r()});e.filterType=function(t){u(t),e.selectedType=t},e.$watch("searchTerm",function(){e.initRunning||(e.result=[],l())})}]);
app.factory("searchFactory",["$http","$q",function(t,e){function r(){return o}function n(){return u}function a(r,n,a){var o=e.defer();l&&s(),l=!0,c=e.defer();var u="/Api/"+r+"/Searcher/Get/?siteid="+n+"&searchTerm="+a+"&isGlobal="+fromGlobal;return t({method:"GET",url:u}).then(function(t){return l=!1,200===t.status&&null!==t.data&&i(t.data),o.resolve(!0)},function(t){return o.resolve(!1)}),o.promise}var o=[],u=!1,l=!1,c=null,s=function(){c.resolve("http call aborted")},i=function(t){o=[],u=t.HasProducts,window.angular.forEach(t.Types,function(t){var e=[];window.angular.forEach(t.Items,function(t){e.push({title:t.Title,publishDate:t.PublishDate,thumb:t.Thumb,href:t.Href,intro:t.Intro,lstIntro:t.LstIntro,category:t.Category})}),o.push({typeLabel:t.TypeLabel,type:t.Type,items:e,selected:t.Selected})})};return{doSearch:a,getSearchResult:r,getHasProducts:n}}]);
app.controller("showcaseController",["$scope","showcaseFactory",function(e,o){function t(e){return e.Deleted}e.initRunning=!1,e.worklogs=[],e.showcaseImages=[],e.productPickerResult=[],e.choosedProducts=[],e.totalSearchedProducts=0,e.overlayDeleteIndex=-1,e.overlayDeleteWorklogId=0,e.initFormExecuted=!1;var n=[],r=function(o){e.worklogs.push({ShowCaseWorklogPageId:null,Title:null,Date:null,DaysSpend:null,HoursSpend:null,MinutesSpend:null,Text:null,Images:n,WorklogAdd:!0,Deleted:!1,Index:o})},l=function(){o.getShowcaseData(e.culture,e.showcasePageId,e.modelFinishedMods).then(function(){return!0}).then(function(){e.worklogs.length>0&&(e.worklogs=[]),e.showcaseImages.length>0&&(e.showcaseImages=[]);var t=0;window.angular.forEach(o.getWorklogResult(),function(o){e.worklogs.push({ShowCaseWorklogPageId:o.ShowCaseWorklogPageId,Title:o.Title,Date:o.Date,DaysSpend:o.DaysSpend,HoursSpend:o.HoursSpend,MinutesSpend:o.MinutesSpend,Text:o.Text,Images:o.Images,WorklogAdd:!1,Deleted:!1,Index:t}),t++}),0===e.worklogs.length&&r(0),window.angular.forEach(o.getShowcaseImagesResult(),function(o){e.showcaseImages.push({Title:o.Title,Image:o.Image,MediaId:o.MediaId})}),e.initRunning=!1})},d=function(t){window.angular.element($("#showcaseForm")).addClass("showcase-edit__form--loading"),o.deleteWorklog(e.culture,t),window.angular.element($("#showcaseForm")).removeClass("showcase-edit__form--loading")};e.AddNewWorklog=function(o){var t=window.angular.element($("#worklogForm-"+(o-1)));if(isFormValid(t)){var n=0;window.angular.forEach(e.worklogs,function(e){e.Deleted||n++}),r(n),window.angular.forEach(e.worklogs,function(e){e.WorklogAdd=!1}),e.initFormExecuted=!1}},e.DeleteWorklog=function(){e.worklogs[e.overlayDeleteIndex].Deleted=!0,window.angular.forEach(e.worklogs,function(o,t){o.WorklogAdd=!1,!o.Deleted&&e.overlayDeleteIndex<t&&o.Index--}),null!=e.overlayDeleteWorklogId&&d(e.overlayDeleteWorklogId),e.worklogs.every(t)&&(r(0),e.initFormExecuted=!1,e.InitForm()),e.overlayDeleteIndex=-1,e.overlayDeleteWorklogId=0,e.initFormExecuted=!1},e.OpenDeleteOverlay=function(o,t){e.overlayDeleteIndex=o,e.overlayDeleteWorklogId=t},e.CloseDeleteOverlay=function(o){e.overlayDeleteIndex=-1,e.overlayDeleteWorklogId=0,o.preventDefault()};var a=function(){o.getProducts(e.culture,e.siteId,e.searchTerm).then(function(){return!0}).then(function(){e.productPickerResult=[],window.angular.forEach(o.getProductPickerResult(),function(o){e.productPickerResult.push(o)}),e.totalSearchedProducts=o.getTotalItemCount(),e.initRunning=!1})},s=function(){o.getChoosedProducts(e.culture,e.siteId,e.modelProducts).then(function(){return!0}).then(function(){window.angular.forEach(o.getChoosedProductsResult(),function(o){e.choosedProducts.push(o)}),e.initRunning=!1})};e.SearchForProducts=function(){e.productPickerResult=[],e.totalSearchedProducts=0,e.searchTerm.length>2&&a()},e.AddProduct=function(o){var t=window.angular.element(document.querySelector("#productpickerErrorText"));e.choosedProducts.filter(function(e){return e.ProductId==o.ProductId}).length>0?t.addClass("active").html(window.ppProductAlreadyChoosenError):e.choosedProducts.length<window.ppMaxChoosedProducts?(t.removeClass("active"),e.choosedProducts.push(o)):t.addClass("active").html(window.ppMaxProductsError)},e.DeleteProduct=function(o){var t=e.choosedProducts.indexOf(o);e.choosedProducts.splice(t,1)};var u=e.$watch("showcaseScope",function(){e.initRunning=!0,null!=e.modelProducts&&s();for(var o=0;o<parseInt(e.worklogMaxImages);o++)n.push({Title:"",MediaId:null,Image:"new:"+o});l(),u()});e.$on("ngRepeatFinished",function(){e.InitForm()}),e.InitForm=function(){e.initFormExecuted||(e.initFormExecuted=!0,initShowcaseForm(),window.angular.element($("#showcaseForm")).removeClass("showcase-edit__form--loading showcase-edit__form--init"))}}]),app.directive("onFinishRender",["$timeout",function(e){return{restrict:"A",link:function(o){!0===o.$last&&e(function(){o.$emit("ngRepeatFinished")})}}}]);
app.factory("showcaseFactory",["$http","$q",function(e,t){function o(){return c}function r(){return f}function n(o,r,n){var a=t.defer();return h&&I(),h=!0,g=t.defer(),e({method:"GET",url:"/Api/"+o+"/Showcase/GetShowcaseData?showcasePageId="+r+"&finishedMods="+n}).then(function(e){return h=!1,200===e.status&&null!==e.data&&T(e.data),a.resolve(!0)},function(e){return a.resolve(!1)}),a.promise}function a(o,r){var n=t.defer();return h&&I(),h=!0,g=t.defer(),e({method:"GET",url:"/Api/"+o+"/Showcase/DeleteWorklog?showCaseWorklogPageId="+r}).then(function(e){return h=!1,200===e.status&&e.data,n.resolve(!0)},function(e){return n.resolve(!1)}),n.promise}function u(){return w}function s(){return m}function d(){return p}function i(o,r,n){var a=t.defer();h&&I(),h=!0,g=t.defer();var u="/Api/"+o+"/Showcase/GetProducts?siteid="+r+"&searchTerm="+n+"&isGlobal="+fromGlobal;return e({method:"GET",url:u}).then(function(e){return h=!1,200===e.status&&null!==e.data&&(v(e.data),p=e.data.TotalItemCount),a.resolve(!0)},function(e){return a.resolve(!1)}),a.promise}function l(o,r,n){var a=t.defer();h&&I(),h=!0,g=t.defer();var u="/Api/"+o+"/Showcase/GetChoosedProducts?siteid="+r+"&products="+n+"&isGlobal="+fromGlobal;return e({method:"GET",url:u}).then(function(e){return h=!1,200===e.status&&null!==e.data&&S(e.data),a.resolve(!0)},function(e){return a.resolve(!1)}),a.promise}var c=[],f=[],h=!1,g=null,w=[],m=[],p=0,I=function(){g.resolve("http call aborted")},T=function(e){c=[],f=[],window.angular.forEach(e.Worklogs,function(e){c.push({ShowCaseWorklogPageId:e.ShowCaseWorklogPageId,Title:e.Title,Date:e.Date,DaysSpend:e.DaysSpend,HoursSpend:e.HoursSpend,MinutesSpend:e.MinutesSpend,Text:e.Text,Images:e.Images,WorklogAdd:!1})}),window.angular.forEach(e.ShowcaseImages,function(e){f.push({Title:e.Title,Image:e.Image,MediaId:e.MediaId})})},v=function(e){w=[],window.angular.forEach(e,function(e){window.angular.forEach(e,function(e){w.push({ProductId:e.ProductId,Title:e.Title,Image:e.Image})})})},S=function(e){w=[],window.angular.forEach(e,function(e){window.angular.forEach(e,function(e){m.push({ProductId:e.ProductId,Title:e.Title,Image:e.Image})})})};return{getShowcaseData:n,getWorklogResult:o,getShowcaseImagesResult:r,deleteWorklog:a,getProducts:i,getProductPickerResult:u,getChoosedProducts:l,getChoosedProductsResult:s,getTotalItemCount:d}}]);
app.controller("ShowcaseOverviewController",["$scope","showcaseOverviewFactory",function(e,t){e.pageNr=1,e.pageSize=15,e.tmpIndex=0,e.hasMore=!1,e.initRunning=!1,e.result=[],e.category=0,e.tags=[],e.selectedTag=null,e.selectedCategory=null;var n=function(n){t.setCategory(e.selectedCategory),t.setTag(e.selectedTag),t.getShowcases(e.culture,e.pageSize,e.pageNr).then(function(){return!0}).then(function(){n&&(e.result=[]),window.angular.forEach(t.getShowcaseResult(),function(t){e.result.push(t)}),e.hasMore=t.getHasMore(),e.initRunning=!1})},a=e.$watch("showcaseOverviewScope",function(){e.initRunning=!0,e.result=[],n(!1),a()});e.setTag=function(t){e.selectedTag=t,e.pageNr=1,e.result=[],n(!1)},e.setCategory=function(t){t||(e.selectedTag=0),e.selectedCategory=t,e.pageNr=1,e.result=[],n(!0)},e.loadMore=function(){e.pageNr=e.pageNr+1,n(!1)}}]);
app.factory("showcaseOverviewFactory",["$http","$q",function(e,t){function n(){return u}function r(){return c}function a(e){g=e}function o(e){f=e}function s(n,r,a){var o=t.defer();return i&&h(),i=!0,l=t.defer(),e({method:"GET",url:"/Api/"+n+"/Showcases/Get?pageSize="+r+"&pageNr="+a+"&cId="+g+"&tId="+f}).then(function(e){return i=!1,200===e.status&&null!==e.data&&w(e.data),o.resolve(!0)},function(e){return o.resolve(!1)}),o.promise}var u=[],i=!1,l=null,c=!1,g=null,f=null,h=function(){l.resolve("http call aborted")},w=function(e){u=[],c=e.PageNr<e.TotalPages,window.angular.forEach(e,function(e){window.angular.forEach(e,function(e){u.push({title:e.Title,introText:e.IntroText,desktopImage:e.Img,href:e.Href,userName:e.Username,userImage:e.UserImage+"?t="+(new Date).getTime(),Category:e.CategoryName,tags:e.Tags,views:e.TotalViews,likes:e.TotalLikes,showPoints:e.IntroText.length>100})})})};return{getShowcases:s,getShowcaseResult:n,setCategory:a,setTag:o,getHasMore:r}}]);
app.controller("StoreLocatorController",["$scope","storeLocatorFactory",function(o,n){o.initRunning=!1,o.result={},o.searchTerm="",o.radius="";var t=function(t,r){n.getStores(o.culture,t,r).then(function(){return!0}).then(function(){var t=n.getStoreLocatorResult();loadLocations(t),o.result=t,o.initRunning=!1})},r=o.$watch("storeLocatorScope",function(){o.initRunning=!0,t("",""),r()});o.search=function(){o.searchTerm&&o.radius?t(o.radius,o.searchTerm):(initMap(),loadLocations(o.result))},o.useMyLocation=function(){return navigator.geolocation?navigator.geolocation.getCurrentPosition(function(n){myLatLng.lat=n.coords.latitude,myLatLng.lng=n.coords.longitude;var t=new window.google.maps.LatLng(myLatLng.lat,myLatLng.lng);return loadLocations(o.result,t),!0},function(){handleLocationError(!0)}):handleLocationError(!1),!1}}]);
app.factory("storeLocatorFactory",["$http","$q",function(t,r){function e(){return a}function o(e,o,s){var c=r.defer();n&&l(),n=!0,u=r.defer();var i="/Api/"+e+"/StoreLocator/Get?radius="+o+"&search="+s+"&siteId="+siteId+"&isGlobal="+fromGlobal;return t({method:"GET",url:i}).then(function(t){return n=!1,200===t.status&&null!==t.data&&(a=t.data),c.resolve(!0)},function(t){return c.resolve(!1)}),c.promise}var a={},n=!1,u=null,l=function(){u.resolve("http call aborted")};return{getStores:o,getStoreLocatorResult:e}}]);