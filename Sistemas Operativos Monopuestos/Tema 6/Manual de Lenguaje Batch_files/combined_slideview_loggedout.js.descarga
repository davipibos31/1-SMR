function SSComments(e){"undefined"!=typeof e&&this.setup_comments_interaction(e)}function SSContactsFollow(e){"undefined"!=typeof e&&this.setup_slideview_contacts_interaction(e)}!function(){ssClientUtils.dom.onContentLoaded.then(ssClientUtils.svg.loadSvgs)}(),Handlebars.registerPartial("sponsored-item",Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,o){var n,s=t.helperMissing,a="function",r=this.escapeExpression;return'<li class="related-ad" style="display: none">\n  <div id="'+r((n=null!=(n=t.id||(null!=e?e.id:e))?n:s,typeof n===a?n.call(e,{name:"id",hash:{},data:o}):n))+'" class="ad-content" data-position="'+r((n=null!=(n=t.position||(null!=e?e.position:e))?n:s,typeof n===a?n.call(e,{name:"position",hash:{},data:o}):n))+'"></div>\n  <span class="divider"></span>\n</li>\n'},useData:!0})),function(e){"use strict";e(["jquery"],function(e){function t(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}var i=e.scrollTo=function(t,i,o){return e(window).scrollTo(t,i,o)};return i.defaults={axis:"xy",duration:0,limit:!0},i.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,i=!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!i)return t;var o=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==o.compatMode?o.body:o.documentElement})},e.fn.scrollTo=function(o,n,s){return"object"==typeof n&&(s=n,n=0),"function"==typeof s&&(s={onAfter:s}),"max"==o&&(o=9e9),s=e.extend({},i.defaults,s),n=n||s.duration,s.queue=s.queue&&s.axis.length>1,s.queue&&(n/=2),s.offset=t(s.offset),s.over=t(s.over),this._scrollable().each(function(){function a(e){d.animate(h,n,s.easing,e&&function(){e.call(this,c,s)})}if(null!=o){var r,l=this,d=e(l),c=o,h={},u=d.is("html,body");switch(typeof c){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(c)){c=t(c);break}if(c=u?e(c):e(c,this),!c.length)return;case"object":(c.is||c.style)&&(r=(c=e(c)).offset())}var p=e.isFunction(s.offset)&&s.offset(l,c)||s.offset;e.each(s.axis.split(""),function(e,t){var o="x"==t?"Left":"Top",n=o.toLowerCase(),f="scroll"+o,m=l[f],_=i.max(l,t);if(r)h[f]=r[n]+(u?0:m-d.offset()[n]),s.margin&&(h[f]-=parseInt(c.css("margin"+o))||0,h[f]-=parseInt(c.css("border"+o+"Width"))||0),h[f]+=p[n]||0,s.over[n]&&(h[f]+=c["x"==t?"width":"height"]()*s.over[n]);else{var g=c[n];h[f]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*_:g}s.limit&&/^\d+$/.test(h[f])&&(h[f]=h[f]<=0?0:Math.min(h[f],_)),!e&&s.queue&&(m!=h[f]&&a(s.onAfterFirst),delete h[f])}),a(s.onAfter)}}).end()},i.max=function(t,i){var o="x"==i?"Width":"Height",n="scroll"+o;if(!e(t).is("html,body"))return t[n]-e(t)[o.toLowerCase()]();var s="client"+o,a=t.ownerDocument.documentElement,r=t.ownerDocument.body;return Math.max(a[n],r[n])-Math.min(a[s],r[s])},i})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}),function(){var e=function(){$(".copyright").one("click",".smt-trigger",function(){$(".smt-menu ul").css({bottom:$(".smt-menu").height()})})};$(e)}(),SSComments.prototype.setup_comments_interaction=function(e){var t=$("#notesList"),i=$("#empty-note"),o=e.svComments.find(".j-post-comment-input"),n=t.find("li").hide(),s=n[0];e.notes={onload:function(e){n.hide(),s=n[e-1],s?(i.hide(),s=$(s).show()):i.show()}};var a=e.svComments.find(".j-more-comments");$.extend(e.comments,{slide_number:1,onload:function(t){e.comments.slide_number=t},get_secret_key:function(){return/\/secret\//.test(window.location.href)?window.location.href.match(/\/secret\/(.*)/)[1]:""},reply_to_comment:function(e,t){var i=$("#"+e).find(".j-username").html(),n=o.closest(".j-comment-post"),s=n.offset().top-$("#main-nav").height()+50;$.scrollTo(s,500),o.focus().val("@"+i+" ")},sanitize_action_links:function(){$("#commentsList").find(".j-action-delete, .j-action-block").remove()},save_comments:function(){var e=o.val();e.length>0?window.cookie("comments",e,{path:window.location.pathname}):window.cookie("comments",null,{path:window.location.pathname})},delete_saved_comments:function(){null!==window.cookie("comments")&&window.cookie("comments",null,{path:window.location.pathname})},decorate_comment_user:function(e,t){$(".j-author-photo img",e).each(function(e,i){i.src=t.photo_url,i.alt=t.login}),$(".j-author-photo .j-username",e).each(function(e,i){i.href="/"+t.login,i.title=t.login}),$(".j-author-photo",e).each(function(e,i){i.href="/"+t.login,i.title=t.user_description}),$(".j-author-photo .j-username",e).text(t.name||t.login)},per_page:5,current_page:1,currently_shown:null,setup_scrolling_on_reply:function(){e.svComments.on("click",".j-reply",function(t){t.preventDefault(),e.comments.reply_to_comment($(this).closest("li.comment").attr("id"),e.svCommentsForm)})},show_page:function(t,i,o){i=i||this.per_page,o=o||$(".comment",e.svComments).length;var n=o/i,s=(t-1)*i;s>o-1&&(s=o-1);var r=s+i;r>o-1&&(r=o),this.currently_shown=$(".comment",e.svCommentsul).slice(s,r).show(),this.current_page=t,n>1?a.show():a.hide(),this.current_page>=n&&a.closest(".more-container").hide(),e.comments.setup_scrolling_on_reply(),$(".thumbnailGrid").trigger("adjustHeight")}}),$(".alertMessage a").click(function(e){e.preventDefault()}),$("#login-provider-slideshare").bind("click",e.comments.save_comments),a.click(function(t){if(t.preventDefault(),e.comments.ajaxurl&&e.comments.total_count>e.comments.per_page){var i=$(e.loading_html);i.appendTo(a.parent()),a.hide();var o=e.comments.get_secret_key();$.getJSON(e.comments.ajaxurl,{key:o},function(t){$.each(t,function(t,i){if(t>=e.comments.per_page){var o=$("#commentsTemplate").clone().hide();o.attr("itemprop",i.user_schema_type),""===i.user_occupation?o.children().remove(".j-commenter-role"):$(".j-commenter-role",o).text(", "+i.user_occupation),""===i.user_organization?o.children().remove(".j-commenter-org"):$(".j-commenter-org",o).text(" at "+i.user_organization),e.comments.decorate_comment_user(o,i),$(".commentTimestamp",o).text(i.created_at+" ago"),$(".commentText",o).html(i.body),o[0].id="comment-"+i.comment_id,$(o[0]).find("#confirmDialog").attr("id","confirmDialog-"+i.comment_id),o.addClass("author-"+i.user_id).addClass("comment"),o.appendTo(e.svCommentsul)}}),e.comments.sanitize_action_links(),e.setup_owner_interaction&&e.setup_owner_interaction(),$(".j-loading",a.parent()).remove(),e.comments.show_page(e.comments.current_page+1)})}else e.comments.show_page(e.comments.current_page+1);e.comments.ajaxurl=null}),e.svCommentsForm.jssubmit(function(t){e.comments.delete_saved_comments(),e.comments.post_comment(t.target),$(".comment .action-block").first().hide()}),e.comments.show_page(e.comments.current_page,e.comments.per_page,e.comments.total_count),e.svComments.show(),e.svCommentsForm.show(),$.inArray(getUrlVar("utm_source"),["commentback"])>-1&&$.scrollTo(e.svCommentsForm,{offset:-90}),$(".tabs li a",e.svComments).showhide(".svComments .comments-tab, .svComments .notes-tab"),loadDataForSlide(slideshare_object.startSlide)},window.loadDataForSlide=function(e){slideshare_object.topRightAd&&slideshare_object.topRightAd.trigger("refreshAd"),slideshare_object.comments.onload?(slideshare_object.comments.onload(e),slideshare_object.notes.onload(e)):setTimeout(function(){loadDataForSlide(e)},100)},function(e){e.setup_instruments_interaction=function(){window.linkedInShareSuccess=function(){_gaq.push(["_trackEvent","bigfoot_slideview","viralshareLinkedIn"])},$.fn.extend({evt_track:function(e,t,i,o,n){return this.click(function(n){return window._gaq.push(["_trackEvent",e,t,i,o]),!0})},evt_trackAjaxOkay:function(e,t,i,o,n){return this.bind("ajaxOkay",function(){return window._gaq.push(["_trackEvent",e,t,i,o]),!0})}}),$(".j-download",e.svTools).evt_track("bigfoot_slideview","downloadclick>"+(e.user.loggedin?"loggedin":"loggedout"));var t=$(".j-author-panel");if(t.size()>0&&window._gaq.push(["_trackEvent","author-panel","pageload"]),document.referrer.match(/search\/slideshow/)){var i=getUrlVar("from_search");void 0!==i&&(window._gaq.push(["_trackEvent","searchresult","slideview_load_"+i]),$(".j-download",e.svTools).evt_track("searchresult","downloadclick_"+i))}if($(player)&&$(player).bind("next",function(e){if(document.referrer.match(/search\/slideshow/)){var t=player.controller.slideCount,i=player.controller.currentPosition,o=Math.ceil(100*i/t),n=Math.ceil(100*(i-1)/t),s=o-o%10;if(n<s){var a=getUrlVar("from_search");a&&window._gaq&&(a=a.split("#")[0],window._gaq.push(["_trackEvent","searchresult","view_"+a+"_"+s]))}}}),e.promoted&&(window._gaq.push(["_trackEvent","bigfoot_slideview","promoted","show"]),$("#relatedList li:lt("+e.promoted+")").evt_track("bigfoot_slideview","promoted","click")),e.contests&&$.each(e.contests,function(e,t){window._gaq.push(["_trackEvent","bigfoot_contest",t.contestLink,"slideview"])}),e.player)if(0===jQuery("#noflash").length||jQuery("#noflash").is(":visible")===!1){var o=e.player.url;o.match("swf/ssplayer2.swf")?window._gaq.push(["_trackEvent","bigfoot_slideview","playerload","normal"]):o.match("swf/playerv.swf")?window._gaq.push(["_trackEvent","bigfoot_slideview","playerload","video"]):o.match("swf/doc_player.swf")?window._gaq.push(["_trackEvent","bigfoot_slideview","playerload","doc"]):window._gaq.push(["_trackEvent","bigfoot_slideview","playerload","a9"])}else try{var n=deconcept.SWFObjectUtil.getPlayerVersion().major;window._gaq.push(["_trackEvent","bigfoot_slideview","playerloadfail",n])}catch(s){window._gaq.push(["_trackEvent","bigfoot_slideview","playerloadfail","unknown"])}e.last_iframe=null,jQuery(".lostchild").mouseenter(function(t){e.last_iframe=t.target}),jQuery(".lostchild").mouseleave(function(t){e.last_iframe=null}),window.track_beforeunload_event=function(){if(e.last_iframe){e.last_iframe=$(e.last_iframe).parents(".lostchild")[0]||e.last_iframe;e.last_iframe.className.replace(/lostchild|adbox-outer/g,"").replace(/^\s+|\s+$/g,"").split(/\s+/).sort().join(" ");e.last_iframe=null}};var a=window.onbeforeunload;window.onbeforeunload=function(){var e=window.track_beforeunload_event();if(e=e||a&&a.apply(window,arguments))return e},jQuery(document).blur(track_beforeunload_event)},e.slideshow.is_private||(Number.prototype.number_with_delimiter=function(e){var t=slideshare_object.utils.i18n_locale();if(window.xmessage&&t){var i=window.xmessage.fromString("{0,number}",t);return i([this])}var o=this+"";e=e||",";var n=o.split(".");return n[0]=n[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+e),n.join(".")})}(slideshare_object),function(){if(!slideshare_object.slideshow.is_private){window._bizo_data_partner_id=slideshare_object.bizo_partner_id.toString();var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===window.location.protocol?"https://sjs":"http://js")+".bizographics.com/insight.min.js",e.parentNode.insertBefore(t,e)}}(),window.pageTracker={_trackPageview:function(){return log("_trackPageview",arguments),!0},_trackEvent:function(){return log("_trackEvent",arguments),!0},_setVar:function(){return log("_setVar",arguments),!0}},window.log=slideshare_object.dev&&window.console?function(){console.log.apply(console,arguments)}:function(){},String.prototype.supplant=function(e){return this.replace(/\{([^{}]*)\}/g,function(t,i){var o=e[i];return"string"==typeof o||"number"==typeof o?o:t})},function(e){e.fn.extend({jsclick:function(e){var t=this,i=function(i){e.apply(t,arguments),i.preventDefault(),i.stopPropagation()};return this.click(i),i},jschange:function(e){var t=this,i=function(i){e.apply(t,arguments),i.preventDefault(),i.stopPropagation()};return this.change(i),i},jssubmit:function(e){var t=this,i=function(i){e.apply(t,arguments),i.preventDefault(),i.stopPropagation()};return this.submit(i),i},add_undo:function(e,t){slideshare_object.ajax_undo&&slideshare_object.ajax_undo.push([e,t,this])},showhide:function(t,i){return this.jsclick(function(){e(t,i).toggle(),slideshare_object.align_lostchildren&&slideshare_object.align_lostchildren()}),this}})}(jQuery),slideshare_object.ready=function(){var e=slideshare_object.utils.i18n,t=e("slideshow.foundation_slideview.loading_text"),i=e("slideshow.foundation_slideview.loading");slideshare_object.timer.ready=(new Date).getTime(),slideshare_object.ajax_undo=[],slideshare_object.add_undo=function(e,t){slideshare_object.ajax_undo.push([e,t])},$(document).ajaxError(function(e,t,i,o){log("ajaxError",e,t,i,i.url,o);var n=slideshare_object.ajax_undo.shift();n&&n[2]&&n[2].trigger("ajaxFail",arguments),n&&n[1](e,t,i,o)}),$(document).ajaxSuccess(function(e,t,i){var o=slideshare_object.ajax_undo.shift();o&&o[2]&&o[2].trigger("ajaxOkay",arguments)}),slideshare_object.sessid=encodeURIComponent((document.cookie.match(/_cookie_id=([^;]*)/)||[])[1]),slideshare_object.add_deferred=function(e){slideshare_object.deferred||(slideshare_object.deferred={list:[],timeout:null,next_action:function(){log("Wakie wakie!");var e=slideshare_object.deferred.list.shift();e&&e(),slideshare_object.deferred.list[0]&&(slideshare_object.deferred.timeout&&clearTimeout(slideshare_object.deferred.timeout),slideshare_object.deferred.timeout=setTimeout(slideshare_object.deferred.next_action,100))}}),slideshare_object.deferred.timeout&&clearTimeout(slideshare_object.deferred.timeout),slideshare_object.deferred.list.push(e),slideshare_object.deferred.timeout=setTimeout(slideshare_object.deferred.next_action,200)},slideshare_object.lead&&slideshare_object.lead.form_url&&$(".noAdForLead").remove(),slideshare_object.slideshowCategories=$("#slideshow-categories"),slideshare_object.suonly=$("ul.superuser-only"),slideshare_object.svComments=jQuery(".commentsNotes"),slideshare_object.svCommentsul=jQuery("#commentsList"),slideshare_object.svCommentsForm=$("form.j-comment-post"),slideshare_object.svTools=$(".j-tools"),slideshare_object.svEmbed=$(".details .embed"),slideshare_object.loading_html='<span class="j-loading">'+t+' <img alt="'+i+'" src="//public.slidesharecdn.com/images/indicator.gif" height="5" width="21" style="margin:0;float:none;vertical-align:middle" /></span>',$(document).ready(function(){var e=window.location.hash.match(/\d+/);if(e&&e.length>0){var t=parseInt(e[0],10);$(".slide.show").removeClass("show"),$(".slide[data-index="+t+"]").addClass("show"),player.goToSlide({index:t})}slideshare_object&&slideshare_object.jsplayer&&slideshare_object.jsplayer.bambooleaf_presentation&&$.slideshareEventManager&&$.slideshareEventManager.trackRawEvent("bambooleaf_load",slideshare_object.jsplayer.id+"-"+slideshare_object.jsplayer.start_slide,document.referrer,!0);var i={};$(".j-share-item").on("click",function(e){var t=$(this).data("network"),o=slideshare_object.slideshow.social_urls[t],n=$(this).find(".j-share-count"),s=parseInt(n.text().replace(/,/g,""),10);window.open(o,"shareDialog","width=626,height=436"),$.slideshareEventManager&&$.slideshareEventManager.trackRawEvent("bigfoot_slideview",$(this).data("ga-action")),void 0===i[t]&&n.text((s+1).toLocaleString()),i[t]=1});var o=[];$(".j-related-impression").each(function(){o.push({slideshow_id:$(this).data("ssid"),score:$(this).data("score")})});var n=$(".j-lynda-impression");if(n.length){var s,a={ssid:n.data("ssid"),lyndaInfoArr:[],designkey:n.data("designkey")};n.each(function(){var e,t=$(this);if(t.data("tracking-id")||t.data("tracking-id",slideshare_object.generateTrackingID(16)),e={id:t.data("lynda-id"),type:t.data("lynda-type"),"algorithm-id":t.data("algorithm-id")},void 0===s)if(t.hasClass("j-lynda-category"))s="related_lynda_cat_impression_2";else{var i=t.data("course-type");"v2b"===i?(s="related_v2b_impressions_2",a.designkey=a.designkey+"_"+t.data("language")):""===i&&(s="related_lynda_impressions_2")}a.lyndaInfoArr.push(e)}),$.slideshareEventManager&&$.slideshareEventManager.trackRawEvent(s,JSON.stringify(a),null,!0)}n.on("click",function(){var e,t={ssid:$(this).data("ssid"),"lynda-id":$(this).data("lynda-id"),designkey:$(this).data("designkey"),"lynda-type":$(this).data("lynda-type"),"algorithm-id":$(this).data("algorithm-id"),eid:$(this).data("tracking-id")};if($(this).hasClass("j-lynda-category"))e="related_lynda_cat_click";else{var i=$(this).data("course-type");"v2b"===i?(e="related_v2b_clicks",t.designkey=t.designkey+"_"+$(this).data("language")):""===i&&(e="related_lynda_clicks")}$.slideshareEventManager&&$.slideshareEventManager.trackRawEvent(s,JSON.stringify(t),null,!1)});var r=(new Date).getTime(),l=(slideshare_object.presentationId+"_"+r,{module_id:"sv_right",user_id:slideshare_object.user.id,source:slideshare_object.presentationId,recommendations:o,algorithmId:$($(".j-related-impression")[0]).data("algo-id")});void 0!==getUrlVar("related")?l.trackingCode="related":void 0!==getUrlVar("next_slideshow")&&(l.trackingCode="next_slideshow"),$(".j-action-categorize").on("click",function(e){$(".j-overlay-categorize").toggle(),$(window).scrollTop(0)}),$(".j-action-sucategorize-submit").click(function(e){e.preventDefault(),$(".j-progress").show();var t=$("#featured_value option:selected").val();$.post(slideshare_object.su.post_homepage_url,{featured_value:t});var i=$("#slideshow_type").get(0),o="/ssadmin/update_editor_details/"+slideshare_object.presentationId,n=$("#categorize-form").serialize();$.post(o,n,function(e){$(".j-progress").hide(),$(".j-overlay-categorize").hide(),i&&i.checked===!0&&window.location.reload()},"json")}),$(".action-sucategorize-cancel").click(function(e){$(".j-progress").hide(),$(".j-overlay-categorize").hide()}),$('a[href="/login"]').filter(":not(.void_redirect_link)").attr("href","/login?from_source="+encodeURIComponent(window.location.pathname));var d=getUrlVar("fb_source");(getUrlVar("code")||d)&&(d?slideshare_object.ga("fb_opengraph","slideview_visit",d):slideshare_object.ga("fb_opengraph","slideview_visit","no_fb_source")),slideshare_object.processAdQueue&&slideshare_object.processAdQueue(),slideshare_object.topRightAd=$(".j-top-right-div iframe"),slideshare_object.topRightAd.length&&slideshare_object.topRightAd.bind("refreshAd",function(){var e=0,t=0,i=slideshare_object.topRightAd.attr("src");return i=i.replace(escape("adsense=t;"),""),function(o){if(e+=1,5===e){e=0,t++;var n=slideshare_object.topRightAd,s=i+escape(";refreshcount="+t),a=n.clone(!0);n.replaceWith(a),a.attr("src",s),slideshare_object.topRightAd=a}}}());var c=window.setInterval(function(){var e,t,i,o;if(t=$(".transcriptAd iframe"),!t.length)return function(){window.clearInterval(c)};i=$(window),o=i.height(),e=$(".footer-leaderboard-ad").offset().top;var n=function(){slideshare_object.loadDelayedLIAd(t,$(".transcriptAd a.j-cta_remove_ad_fancy"))},s=function(){i.scrollTop()+o>=e&&(n(),window.clearInterval(c))};return s}(),1e3);slideshare_object.action_from_email_check()}),$(".j-slide_link").click(function(e){e.preventDefault(),slideshare_object.bambooleaf_transcript_clicks||(slideshare_object.bambooleaf_transcript_clicks=0),slideshare_object.bambooleaf_transcript_clicks++;var t=$(this).data("slide");$.slideshareEventManager&&$.slideshareEventManager.trackRawEvent("bambooleaf_transcript_click",slideshare_object.jsplayer.id+"-"+t,slideshare_object.bambooleaf_transcript_clicks+"",!1),player.goToSlide({index:t}),window.scrollTo(0,0)});var o=function(e){var t=player.config.start_slide;slideshare_object.$j_transcript||(slideshare_object.$j_transcript=$(".j-transcript")),slideshare_object.$j_title_breadcrumb||(slideshare_object.$j_title_breadcrumb=$(".j-title-breadcrumb")),slideshare_object.$j_parent_title||(slideshare_object.$j_parent_title=$(".j-parent-title")),1===e.index?slideshare_object.$j_transcript.show():e.isHash||slideshare_object.$j_transcript.hide(),e.index===t?(slideshare_object.$j_title_breadcrumb.show(),slideshare_object.$j_parent_title.removeClass("low-key-link")):t>1&&(slideshare_object.$j_title_breadcrumb.hide(),slideshare_object.$j_parent_title.addClass("low-key-link")),window.history.replaceState({},"",e.newURL)};$(player).bind("slidechanged",function(e){this.config.bambooleaf_enabled&&o({index:e.ssData.index,isHash:this.config.bambooleaf_hash,newURL:this.config.rel_slide_urls[e.ssData.index-1]})}),slideshare_object.timer.end=(new Date).getTime(),slideshare_object.dev&&window.console&&console.log("ready:",slideshare_object.timer.ready-slideshare_object.timer.start,"total:",slideshare_object.timer.end-slideshare_object.timer.start)},slideshare_object.setup_activitylist_interaction=function(){function e(e,t,i){$(e.meta,t).html(i.summary),e.tag&&$(e.tag,t).html(i.tags),$(e.role,t).text(null===i.user_occupation?"":i.user_occupation),$(e.org,t).text(i.user_organization),$(e.user_link,t).each(function(t,o){o.href="/"+i.login,o.title=i.user_description,$("img",o).each(function(e,t){t.src=i.photo,t.alt=i.login}),$(e.username,o).text(i.user_name)}),t[0].className=i.css_class}var t={favs:{container:"#favsList",action_more:".j-more-favs",meta:slideshare_object.activities.favorites,fill_template:function(t,i){e({meta:".favoriteMeta",tags:".j-tags",role:".j-favoriter-role",org:".j-favoriter-org",user_link:".favoriter",username:".j-username"},t,i)}},downloads:{container:".j-downloads-list",action_more:".j-more-downloads",meta:slideshare_object.activities.downloads,fill_template:function(t,i){e({meta:".downloadMeta",role:".j-downloader-role",org:".j-downloader-org",user_link:".downloader",username:".j-username"},t,i)}}};$.each(t,function(e,t){var i=$(t.container),o=null;if($("li:first",i).each(function(e,t){o=t.cloneNode(!0)}),t.meta&&o&&t.meta.count<t.meta.total){var n=$(t.action_more);"favs"==e&&n.show(),n.jsclick(function(){var e=n.html();n.html(slideshare_object.loading_html);var s=$("li",i).length,a=t.meta.url,r="offset="+s;a+=a.indexOf("?")>=0?"&"+r:"?"+r,$.getJSON(a,function(s){var a=document.createDocumentFragment();$.each(s,function(e,i){var n=$(o.cloneNode(!0));t.fill_template(n,i),a.appendChild(n[0])}),i.append(a),$("li",i).length<t.meta.total?n.html(e):n.parent().remove(),$(".thumbnailGrid").trigger("adjustHeight")})})}})},SSContactsFollow.prototype.add_contact=function(e,t,i){var o="/contact/create";$.ajax({url:o,type:"POST",dataType:"json",data:{contactee:e},success:function(e){e.suspended?window.location.replace("/login"):e.follow_limit_reached?window.location.reload():t(e)},error:i})},SSContactsFollow.prototype.delete_contact=function(e,t,i){$.ajax({url:"/contact/delete",type:"POST",dataType:"json",data:{contactee:e},success:function(e){e.success?t(e):i(e)},error:function(e){i(e)}})},SSContactsFollow.prototype.setup_slideview_contacts_interaction=function(e){var t=!1,i=this,o=function(e,o,n){t=!0;var s="authorthumbnail>"+e;window._gaq.push(["_trackEvent","bigfoot_slideview",s]);var a=function(e){o.removeClass("loading"),e.success?(o.toggleClass("following"),window._gaq.push(["_trackEvent","bigfoot_slideview",s+"_failed"]),t=!1):r()},r=function(e){o.removeClass("loading"),window._gaq.push(["_trackEvent","bigfoot_slideview",s+"_failed"]),t=!1};"follow"===e?i.add_contact(n,a,r):"unfollow"===e&&i.delete_contact(n,a,r)};e.user.loggedin?$(".j-follow").on("click",function(e){e.preventDefault();var i=$(this),n=(i.find("button:visible"),i.data("contactee-id")),s=i.hasClass("following")?"unfollow":"follow";t||(i.addClass("loading"),o(s,i,n))}):$(".j-follow").on("click",function(t){var i={event:"follow",data:{contactee:$(this).data("contactee-id")}};e.addAfterLoginEvent(i)})},function(e){function t(){$(n).addClass("hide"),$(o).removeClass("hide"),$(s).removeClass("hide"),$(h).removeClass("hide")}function i(){$(n).removeClass("hide"),$(o).addClass("hide"),$(s).click(function(e){e.preventDefault()}),$(s).removeClass("hide"),$(h).addClass("hide")}var o=".action-flag .flag",n="span.flagged",s="a.action-flag",a="#report-slideshow-modal",r=".flag-inappropriate .action-submit",l=".flag-inappropriate form select",d="#flag-error-alert",c="#slideview-report-notice",h=".report-dropdown";e.setup_flagging_interaction=function(){var o=!!this.flagging.flagged_value;$.extend(this.flagging,{postUpdate:function(){var t=$(l).val();$(r).prop("disabled",!0),$.post(e.flagging.update_url,{ia_value:t,slideshow_id:e.presentationId,source:"slideviewer"},function(e){log("POST Success: "+e),$(a).foundation("reveal","close"),$(d).addClass("hide"),$(c).removeClass("hide"),$(s).attr("disabled",!0),i(),$(window).scrollTop(0)}).fail(function(e){log(e),$(d).removeClass("hide")}).always(function(){$(r).prop("disabled",!1)})}}),this.user.loggedin?o?i():($(s).attr("disabled",!1),$(r).click(function(t){t.stopPropagation(),t.preventDefault(),e.flagging.postUpdate()}),t()):t()}}(window.slideshare_object),slideshare_object.toggleSiblings=function(e,t,i,o){$(e).show(),$(t).hide(),$(i).show(),$(o).hide()},slideshare_object.setupDescriptionBoxToggle=function(){var e=100,t=document.getElementById("slideshow-description-paragraph");if(t){var i=t.innerHTML;$(".j-expand-text").click(function(){t.innerHTML=i,t.parentElement.className="large-12 columns",$(this).parent().remove()}),i.length>e&&(t.innerHTML=i.substring(0,e).replace(/\w+$/,""))}},slideshare_object.slideviewInteraction=function(){this.slideviewInteractionObjects={},this.slideviewInteractionObjects.favorites=new slideshare_object.favorites_interaction,this.slideviewInteractionObjects.download=new slideshare_object.download_interaction},slideshare_object.slideviewInteraction.prototype.hideAll=function(e){for(var t in this.slideviewInteractionObjects)this.slideviewInteractionObjects.hasOwnProperty(t)&&t!==e&&this.slideviewInteractionObjects[t].hide&&this.slideviewInteractionObjects[t].hide();"msharing"!==e&&$(".modal-share").is(":visible")&&$.slideshareEventManager&&$.slideshareEventManager.trigger("playershare")},function(e,t,i){function o(e,t){t=t||{},this.downloadAction=$(e||".j-download, .j-save"),this._shouldClickPropagate=t.propagate,this._showClippingModal=t.showClippingModal,this.bindEvents()}var n=12e4,s=t.getPageKey();o.prototype={constructor:o,_init_loggedout:function(){this.downloadAction.on("click",function(){var e=new Date;e.setTime(e.getTime()+n),$.cookie("logout_action","save",{path:"/",expires:e}),$.cookie("download_start_location",s,{path:"/",expires:e}),$(".player").hasClass("fullscreen")&&$.slideshareEventManager&&$.slideshareEventManager.trigger("leavefullscreen")})},_init:function(){var i=this._shouldClickPropagate;this.downloadAction.on("click",function(n){var s=e.location;n.preventDefault(),i||n.stopPropagation(),s.origin||(s.origin=s.protocol+"//"+s.hostname+(s.port?":"+s.port:"")),t.user&&o.postDownloadRequest($(this))})},bindEvents:function(){i.isUserAuthenticated()?this._init():this._init_loggedout()},unbindEvents:function(){this.downloadAction.off("click")}},o.download=function(e){i.isUserAuthenticated()?o.postDownloadRequest($(".j-action-download, .j-download, .j-save")):e&&e.url&&(o.downloadFile(e.url),e.record_url&&$.ajax({url:e.record_url,type:"POST",complete:function(e){t.dev&&console.log(e)},crossDomain:!0,xhrFields:{withCredentials:!0}}))},o.postDownloadRequest=function(e){e.attr("disabled",!0),e.find(".j-download-loading-spinner").show(),$.post(e.attr("href"),function(t){var i=!0;t.success?t.download_ss_url?("CLEAN"===t.scan_result||"NO_SCAN"===t.scan_result||confirm(e.data("dangerous-download-confirmation")))&&o.downloadFile(t.download_ss_url):"DIRTY"===t.scan_result?o.showAlertModal(e.data("cant-download-alert")):(setTimeout(function(){o.postDownloadRequest(e)},1e3*parseInt(e.data("poll-interval-seconds"))),i=!1):o.showAlertModal(t.notice),i&&(e.find(".j-download-loading-spinner").hide(),e.removeAttr("disabled"))})},o.showAlertModal=function(t){var i=$("#alert-modal");i.find("p").text(t),i.foundation("reveal","open"),e._gaq.push(["_trackEvent","savedfiles","download_validation_failed"])},o.downloadFile=function(t){var i=$("#j-downloading-alert");e._gaq.push(["_trackEvent","savedfiles","download_started_from_loggedin",s]),i.show(),setTimeout(function(){i.hide()},3e3),$("#download").attr("src",t)},t.download_interaction=o,i.exports("Downloader",o)}(window,window.slideshare_object,window.slideshare_object.utils),slideshare_object.favorites_interaction=function(){this._init()},slideshare_object.favorites_interaction.prototype._init=function(){$(".j-action-addfav",slideshare_object.svTools).on("click",function(){$(".player").hasClass("fullscreen")&&$.slideshareEventManager&&$.slideshareEventManager.trigger("leavefullscreen");var e={event:"like",data:{slideshow_id:slideshare_object.slideshow.id}};slideshare_object.addAfterLoginEvent(e)})},slideshare_object.favorites_interaction.prototype.show=function(){this.visible=!0,slideviewInteraction.hideAll("favorites")},slideshare_object.favorites_interaction.prototype.hide=function(){this.visible=!1},$(function(){function e(){if(!t){t=!0;var e={id:slideshare_object.slideshow.id};slideshare_object.analytics_api_enabled&&$.ajax({type:"GET",url:"/slideshow/stats",data:e,dataType:"json",success:function(e){var t=$(".j-info-embeds"),i=t.find(".j-embeds-container");if($(".j-slideshare-views").text(e.slideshow_analytics_on_ss),$(".j-embed-views").text(e.slideshow_analytics_views_from_embeds),e.slideshow_analytics_top_embeds.length>0){for(var o=0;o<e.slideshow_analytics_top_embeds.length;o++){var n=e.slideshow_analytics_top_embeds[o];i.append('<div class="small-8 columns stat-label">'+n.url+'</div><div class="small-4 columns stat-value text-right">'+n.hits+"</div>")}t.find(".j-no-embeds").remove(),i.show()}}})}}var t=!1;slideshare_object.svComments=$(".commentsNotes"),slideshare_object.svCommentsForm=$("form.j-comment-post"),slideshare_object.svCommentsul=$("#commentsList"),slideshare_object.svTools=$(".j-tools"),slideshare_object.setup_instruments_interaction(),slideshare_object.setupDescriptionBoxToggle(),$(".j-post-comment").click(function(e){e.preventDefault(),$.scrollTo($(this).attr("href"),500,{offset:-50}),$(".j-post-comment-textarea").focus()}),$(".j-stats-tab").on("click",function(){e()}),$(".j-action-share").unbind("click").on("click",function(){slideviewInteraction.hideAll("msharing"),$.slideshareEventManager&&$.slideshareEventManager.trigger("playershare","toolbar_")}),$(".j-download").on("click",function(){$(".player").hasClass("fullscreen")&&$.slideshareEventManager&&$.slideshareEventManager.trigger("leavefullscreen")}),$(document).off("keydown.fndtn.tab").on("keyup","[data-tab]",function(e){var t=e.which;37!==t&&39!==t||(e.stopPropagation(),e.preventDefault())}),slideshare_object.user.loggedin?(ssComments=new SSCommentsLoggedIn(slideshare_object),ssSuperUser=new SSSuperUserActions(slideshare_object),ssContactsFollow=new SSContactsFollow(slideshare_object)):(ssComments=new SSComments(slideshare_object),ssContactsFollow=new SSContactsFollow(slideshare_object)),slideshare_object.setup_activitylist_interaction(),slideshare_object.setup_flagging_interaction(),slideshare_object.bindToModalLogin(".j-download"),slideshare_object.li_sponsored_content_related&&slideshare_object.loadLISponsoredContentInRelated&&slideshare_object.loadLISponsoredContentInRelated(slideshare_object.li_sponsored_content_related),slideshare_object.clippingTracker=new slideshare_object.ClippingTracker({userIsOwner:slideshare_object.user&&slideshare_object.user.loggedin}),slideshare_object.ready(),window.slideviewInteraction=new slideshare_object.slideviewInteraction}),function(e,t){function i(e){this.config=e,this.init()}var o=e.utils.i18n;i.prototype.init=function(){this.modalId=this.config.modalElementId,this.modalMessages=null,this.fromType=null,this.fromSource=null,this.iFrameElement=null,t.event.trigger("modalSignupLoaded"),this.initModal(),this.bindTriggers(),this.bindEvents(),e.registerMessageReceiver(t.proxy(this.messageReceiver,this))},i.prototype.initModal=function(){var e;if(null!==window.location.href.match("/upload")){var i='a[href*="/login?"], a[href$="/login"],a[href*="/signup?"], a[href$="/signup"], a[href*="/upload?"],a[href$="/upload"]';e=t(i).filter(":not(.void_fancybox, .smt-link)")}else{var o='a[href*="/login?"], a[href$="/login"],a[href*="/signup?"], a[href$="/signup"], button[href*="/signup"]';
e=t(o).filter(":not(.void_fancybox, .smt-link)")}e.attr("data-toggle","modal"),e.attr("data-target","#"+this.modalId),t("body").append('<div class="modal fade FBlogin login-wrapper hide" id="'+this.modalId+'" style="width:470px;height:347px;"></div>'),this.modalElement=t("#"+this.modalId)},i.prototype.appendHeader=function(e){e.push(this.fromType),t("#modal-login-heading").text(o(e.join(".")))},i.prototype.bindTriggers=function(e){t(document).on("click","a[data-toggle=modal], button[data-toggle=modal]",t.proxy(function(e){var i=t(e.currentTarget);if(href=i.attr("href"),href&&href.length>0||(href=i.data("href")),e.currentTarget&&href&&href.length>0&&!i.hasClass("j-pro-hero-slideshow")){e.preventDefault();var o=i.data("tracking-id");o&&(href=addUrlVar(href,"tracking-id",o)),this.open(href,i.attr("data-target"))}},this))},i.prototype.bindEvents=function(){t(".modal-header .close").on("click",t.proxy(this.closedHandler,this)),t("#fb-login-modalbox").on("click",function(){e.ga("Signup","fancybox_fblogin_clicked")})},i.prototype.open=function(e,i){this.openModal(),this.url=e.replace("/login","/account/render_iframe_login"),this.url=this.url.replace("/signup","/account/render_iframe_login"),this.url=this.url||"/account/render_iframe_login",i=i||"#"+this.modalId,this.fromType=getUrlVar("from",this.url),this.fromSource=getUrlVar("from_source",this.url);var o=i;t(o).load(this.url,t.proxy(function(){this.appendHeader(["ajax_signup.login"])},this)),this.appendHeader(["ajax_signup.login"])},i.prototype.openModal=function(e,i){t("#"+this.modalId).modal("show")},i.prototype.closedHandler=function(t){return e.isDownloadUrl(this.url)?e.ga("Signup","thickbox_closed","download"):e.ga("Signup","thickbox_closed"),!0},i.prototype.modalLoginCallBack=function(){if(e.isDownloadUrl(this.url)||e.ga("Login","ss_login","ss_login_from_fancybox"),window.location.pathname.startsWith("/upload")===!0&&(e.ga("Upload","ss_login_successful"),/loggedout_/.test(window.location.href)))return window.location.replace(window.location.href.replace("loggedout_","loggedin_loggedout_")),!1;var t=jQuery.inArray(this.fromType,["business","upload","download","favorite","clip"])!==-1,i=decodeURIComponent(this.fromSource);t&&this.fromSource&&this.fromSource.length>1&&isInternalRedirect(this.fromSource)&&window.location.href!==i?window.location.href=i:window.location.reload()},"undefined"!=typeof Foundation&&(i.prototype.initModal=function(){t("body").append('<div class="modal-login-wrapper reveal-modal" id="'+this.modalId+'" data-reveal></div>'),this.modalElement=t("#"+this.modalId)},i.prototype.bindTriggers=function(i){t(document).on("click","a[data-reveal-id="+this.modalId+"], button[data-reveal-id="+this.modalId+"]",t.proxy(function(i){if(!e.user||!e.user.loggedin){var o=t(i.currentTarget);if(i.currentTarget&&(href=o.attr("href"))&&href.length>0){i.preventDefault();var n=o.data("tracking-id");n&&(href=addUrlVar(href,"tracking-id",n)),this.open(href,o.attr("reveal-id"))}}},this))},i.prototype.bindEvents=function(){t(document).on("closed.fndtn.reveal",this.modalElement,t.proxy(this.closedHandler,this))},i.prototype.messageReceiver=function(e){switch(e){case"Signup_show_from_iframe":this.appendHeader(["ajax_signup.signup"]),slideshare_object.ga("Signup","Signup_loaded");break;case"login_show_from_iframe":this.appendHeader(["ajax_signup.login"]),slideshare_object.ga("Signup","Login_clicked");break;case"fbconnectNewUser":case"fbconnectExistingUser":window.location.replace("/fbconnect/landingpage?from="+this.fromSource);break;case"fbconnectExistingUserWithLinkedAccount":var i=getUrlVar("from",this.url),o=decodeURIComponent(this.fromSource);void 0!==getUrlVars(this.fromSource).from_logout&&"undefined"==typeof i?window.location.replace("/?ss"):window.location.pathname.startsWith("/upload")&&/loggedout_/.test(window.location.href)?window.location.replace(window.location.href.replace("loggedout_","loggedin_loggedout_")):isInternalRedirect(this.fromSource)&&window.location.href!==o?window.location.href=decodeURIComponent(this.fromSource):window.location.reload();break;case"fbconnectFailed":this.closeModal();break;case"fbconnectSuspendedUser":this.closeModal();break;case"fbconnectDefault":window.location.reload();break;case"modalLoginSubmit":this.modalLoginCallBack();break;case"hideSpinner":t(".frame-loading").hide();break;case"forgotPassword":window.location.href=t("#forgot-password-url").val()}},i.prototype.openModal=function(){this.modalElement.foundation("reveal","open")},i.prototype.closeModal=function(){this.modalElement.foundation("reveal","close")}),t(document).ready(function(){if(!e.user.loggedin){var t=new i({iFrameSelector:"#modal_login_iframe",modalElementId:"login_modal"});window.initiate_login_modal=function(e,i){t.open(e,i)}}}),window.initiate_login_modal=function(e,t){error("Login modal initialization cannot be performed")}}(slideshare_object,jQuery),function(e){function t(e,t){t=t||{},this._$el=$(e),this._presentationId=t.presentationId||i.presentationId,this._$el.on("click",this._handleClick.bind(this)),this._$events=$({}),i.bindToModalLogin(e),t.favoritedId||n&&n.favorited_id?this.setLiked():this.setUnliked()}var i=e.slideshare_object,o=i.utils,n=i.favorites,s="liked",a="disabled",r="data-action";t.prototype={constructor:t,like:function(){this.disable(),$.post(n.create_url,this._getPostData()).then(function(e){this.setLiked(),this._$events.trigger(t.EVENT_LIKE)}.bind(this)).always(this.enable.bind(this))},unlike:function(){this.disable(),$.post(n.delete_url,this._getPostData()).then(function(){this.setUnliked(),this._$events.trigger(t.EVENT_UNLIKE)}.bind(this)).always(this.enable.bind(this))},likeAfterLogin:function(){i.addAfterLoginEvent({event:"like",data:{slideshow_id:this._presentationId}})},on:function(){this._$events.on.apply(this._$events,arguments)},enable:function(){this._setDisabled(!1)},disable:function(){this._setDisabled(!0)},setLiked:function(){return this._$el.addClass(s).attr(r,"unlike")},setUnliked:function(){return this._$el.removeClass(s).attr(r,"like")},_setDisabled:function(e){var t=this._$el;t.is("input")?t.prop(PROP_DISABLED,e):e?t.addClass(a):t.removeClass(a)},_handleClick:function(e){e.preventDefault(),this._$el.hasClass(a)||(o.isUserAuthenticated()?this._$el.hasClass(s)?this.unlike():this.like():this.likeAfterLogin())},_getPostData:function(){return{slideshow_id:this._presentationId,user_id:i.user.id,source:"slideviewer"}}},t.EVENT_LIKE="liker:like",t.EVENT_UNLIKE="liker:unlike",o.exports("slideview.Liker",t)}(window),function(e,t,i,o){function n(e){this.config=$.extend({},l,e),this.downloader=new s(a.continueDownloadBtn),this._init()}var s=i("Downloader"),a={startClippingBtn:".start-clipping",continueDownloadBtn:".continue-download"},r={afterModalClose:"closed.fndtn.reveal"},l={el:null};n.prototype._init=function(){if(this.$el=$(this.config.el),!this.$el.length)throw new Error("Error initializing DownloadInterstitial. Element doesn't exist.");if(!(e||t||i||o))throw new Error("Error initializing DownloadInterstitial. Missing dependencies.");this._attachEventListeners()},n.prototype._attachEventListeners=function(){this.$el.on("click.download_interstitial",a.startClippingBtn,this._onStartClippingClick.bind(this)),this.$el.on("click.download_interstitial",a.continueDownloadBtn,this._onDownloadClick.bind(this)),this.$el.on(r.afterModalClose,this._onClosed.bind(this))},n.prototype._detachEventListeners=function(){this.$el.off("download_interstitial"),this.$el.off(r.afterModalClose)},n.prototype.open=function(){this.$el.foundation("reveal","open")},n.prototype.close=function(){this.$el.foundation("reveal","close")},n.prototype._onStartClippingClick=function(){$(document).trigger("onboarding.showLearnMoreTour"),this.close()},n.prototype._onDownloadClick=function(){t.isUserAuthenticated()&&this.close()},n.prototype._onClosed=function(){this._detachEventListeners()},o("DownloadInterstitial",n)}(window.slideshare_object,window.slideshare_object.utils,window.slideshare_object.utils.imports,window.slideshare_object.utils.exports),function(e){function t(){window.scrollY&&$.scrollTo(0,500)}function i(){t(),h.trigger("playershare","IGNORE_THIS_")}function o(){t(),player&&player.controller&&player.controller.displayShareScreen({gaCategory:"share_after_like",customizations:{title:u("action-bar.like.why_not_share")}})}function n(){player&&player.controller&&player.controller.hideShareScreen()}function s(e){var t=e.target.getAttribute("data-action");t&&r.ga(b,y[t]+j)}function a(e,t){t=t||{},this.$el=$(e),this.config=$.extend({},v,t),this.$shareButton=this.$el.find(p),this.$likeButton=this.$el.find(f),this.$downloadButton=this.$el.find(m),this._liker=new d(this.$likeButton),this._downloader=new c(this.$downloadButton,{propagate:!0,showClippingModal:t.clippingEnabled}),r.bindToModalLogin(this.$downloadButton),l.isUserAuthenticated()&&this._configureLiker(this.$likeButton),this._attachEventListeners()}var r=e.slideshare_object,l=r.utils,d=l.imports("slideview.Liker"),c=l.imports("Downloader"),h=(l.imports("DownloadInterstitial"),$.slideshareEventManager),u=l.i18n,p=".share",f=".like",m=".download",_=".j-favs-count",g=u("slideshow.foundation_slideview.like"),w=u("action-bar.unlike.text"),v={clippingEnabled:!1},b="bigfoot_slideview",j="_exp_b",y={share:"share_cta_click",like:"favoriteexpand",unlike:"unlike",download:"downloadclick>"+(l.isUserAuthenticated()?"loggedin":"loggedout")};a.prototype={_attachEventListeners:function(){this.$shareButton.on("click",i),this.$el.on("click",s)},constructor:a,updateLikeCount:function(e){var t=this._$likeCounter=this._$likeCounter||$(_),i=parseInt(t.text(),10)+e;t.text(u("slideshow.foundation_slideview.likes_count",[{count:i}]))},_configureLiker:function(e){r.favorites.favorited_id&&e.text(w),this._liker.on(d.EVENT_LIKE,function(){e.text(w),this.updateLikeCount(1),o()}.bind(this)),this._liker.on(d.EVENT_UNLIKE,function(){e.text(g),this.updateLikeCount(-1),n()}.bind(this))}},l.exports("slideview.ActionBar",a)}(window),function(e,t,i){function o(){var t=i(arguments);return t.push(m),e.extend.apply(null,t)}function n(t){return i(t).map(function(t){var i=e(t),o=s(i),n=i.data(c)||p.generateTrackingID(16),a={entityUrn:p.getUrn(i.data("urn-type"),o),sourceName:i.data("source-name"),entityInstance:n};return i.data(c)||i.data(c,n),i.attr("data-source-model")&&(a.sourceModel=i.attr("data-source-model")),a})}function s(e){return e.attr("data-lynda-id")?e.data("lynda-id"):e.data("ssid")}function a(){var t=e(this),i=s(t),n=o({entityInstance:t.data(c),entityUrn:p.getUrn(t.data("urn-type"),i),actionType:"VIEW_ENTITY"});p.recordTrackingEvent(f,u.action,n)}function r(e,t){var i=o({recommendations:n(e),recommendationsSetInstance:p.generateTrackingID(16)},{designKey:t.designKey,finalRankerModel:t.finalRankerModel,sourceUrn:p.getUrn("Slideshow",t.slideshowId)});p.recordTrackingEvent(f,u.impression,i)}function l(t){this._$els=e(t.selector||h),this._$els.on("click",a),r(this._$els,t)}var d=t.imports("tracking.TrackingUtils"),c="tracking-id",h=".j-recommendation-tracking",u={impression:"SlideShareRecommendationImpressionEvent",action:"SlideShareRecommendationActionEvent"},p=new d,f=p.getAppId("recommendations"),m={requestHeader:{pageKey:p.getPageKey()}};t.exports("tracking.Recommendations",l)}(window.jQuery,window.slideshare_object.utils,window.ssClientUtils.lang.toArray),function(e,t){function i(){this.$noticeWrapper=e(".j-lms-notice-wrapper"),this.$closeButton=this.$noticeWrapper.find(".j-lms-notice-close"),this.$closeButton.click(this.hide.bind(this))}var o=t.utils,n=new(o.imports("tracking.TrackingUtils")),s=n.getAppId("lms_notice"),a="NoticeImpressionEvent",r="ADS_ON_SLIDESHARE_PERSONALIZATION",l="lms_notice_shown";i.prototype={constructor:i,show:function(){cookie(l)||(this.$noticeWrapper.removeClass("hide"),this.recordImpression(),cookie("lms_notice_shown",!0,{expires:90,path:"/",secure:!0}))},hide:function(){this.$noticeWrapper.addClass("hide")},recordImpression:function(){var e={noticeType:r,requestHeader:{pageKey:n.getPageKey()}};n.recordTrackingEvent(s,a,e,null)}},o.exports("slideview.LmsNotice",i)}(window.jQuery,window.slideshare_object),function(e,t,i){function o(e){return e.reduce(function(e,t){return e+"&div="+t.id},"")}function n(t){window.liAds&&(window.liAds.display(),t.forEach(function(t){var o=e("#"+t.id);o.is(":empty")||(i(l,"sponsored_content_related_impression_"+t.position),o.parent(".related-ad").show())}))}function s(e){var t=e.placeholders,i=document.createElement("script"),s=Math.random()*r,a=o(t);return i.src=e.url+"?random="+s+a+"&style=false",i.onload=n.bind(null,t),i}function a(e,t){document.body.appendChild(s(t)),e.on("click",".ad-content",function(){i(l,"sponsored_content_related_click_"+this.getAttribute("data-position"))})}var r=(Number.MAX_SAFE_INTEGER||9007199254740991)-1,l="bigfoot_slideview";t.exports("slideview.SponsoredContent",a)}(window.jQuery,slideshare_object.utils,slideshare_object.ga),function(e,t,i){function o(e){return e.i18n=l.i18n(),e}function n(e){var t=document.getElementById(e);return t?o(JSON.parse(i.htmlUnencode(t.innerHTML.replace(/<!-+?({.*})-+>/,"$1")))):null}function s(e){return new c({slideshowId:e.slideshowId,designKey:e.designKey,finalRankerModel:e.finalRankerModel})}function a(i){var o=n(r),a=o?h(o):null;a?(this._$el=e(i),this._$el.html(a),this._processContent(o),t.lazyloadThumbnails()):s({slideshowId:t.slideshow.id,designKey:t.slideshow.recommendations.designKey,finalRankerModel:t.slideshow.recommendations.finalRankerModel})}var r="recommendations-api-content",l=t.utils,d=l.imports("slideview.SponsoredContent"),c=l.imports("tracking.Recommendations"),h=l.imports("templates.recommendations.base");a.prototype={constructor:a,_processContent:function(e){var i;e.li_sponsored_content_related&&(i=new d(this._$el,e.li_sponsored_content_related)),e.show_ad&&e.sv_ad_hash&&t.processAdQueue([e.sv_ad_hash]),s({slideshowId:e.slideshow_id,designKey:e.design_key,finalRankerModel:e.final_ranker_model})}},l.exports("slideview.Recommendations",a)}(window.$,window.slideshare_object,window.jSecure),function(e,t,i){var o={getSlides:function(e){var t=$(e),i={};return t.each(function(e,t){var o=$(t),n=e+=1,s=o.data("small");s&&(i[n]={position:n,thumbUrl:s,isTopClip:!1})}),i},getTopClips:function(e,t){function i(e,t){return e.clipCount!==t.clipCount?t.clipCount-e.clipCount:e.position-t.position}var n,s,a,r,l={};if(e)return n=$.extend({},e),delete n[1],s=o._getClipsAsArray(n),a=s.sort(i),r=a.slice(0,t||a.length),$.each(r,function(e,t){r[e].isTopClip=!0,l[t.position]=r[e]}),l},_getClipsAsArray:function(e){if(e)return $.map(e,function(e,t){return{position:parseInt(t,10),clipCount:parseInt(e,10),isTopClip:!1}})}};i("clippingUtil",{getSlides:o.getSlides,getTopClips:o.getTopClips})}(window,window.slideshare_object,window.slideshare_object.utils.exports),function(e,t,i,o){function n(e){if(this.config=$.extend({},u,e),!(this.config.targetEl&&this.config.progressBarEl&&this.config.slides&&this.config.slideCount))throw new Error("ClippingFilmStrip missing config dependencies.");if(!i)throw new Error("ClippingFilmStrip missing global dependency: $ssEventManager.");this._init()}var s,a=t.utils,r=a.i18n,l={FAKE_IMG_SRC:"data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",HIDE_FILMSTRIP_TIMER:50,KEY_ENTER:13,KEY_ESC:27,KEY_ARROW_LEFT:37,KEY_ARROW_RIGHT:39},d={filmStripContainer:"filmstrip-container",filmStrip:"filmstrip",filmStripLens:"filmstrip-lens",filmStripLensImage:"filmstrip-lens-image",filmStripThumbnail:"filmstrip-thumb",topClipLabel:"top-clip-label",topClip:"top-clip"},c={filmStripContainer:"."+d.filmStripContainer,filmStripLens:"."+d.filmStripLens,filmStripLensImage:"."+d.filmStripLensImage,filmStrip:"."+d.filmStrip,filmStripThumbnail:"."+d.filmStripThumbnail,topClipLabel:"."+d.topClipLabel},h={filmStripContainer:o.processTemplate('<div class="{className}">',{className:d.filmStripContainer}),filmStripLens:o.processTemplate('<div class="{className}"><img src="{src}" class="{imageClassName}"></div>',{className:d.filmStripLens,src:l.FAKE_IMG_SRC,imageClassName:d.filmStripLensImage}),filmStrip:o.processTemplate('<ul class="{className}">',{className:d.filmStrip}),thumbnailContainer:"li",topClippedLabel:o.processTemplate('<span class="{className}">'+o.htmlEncode(r("clipping.filmstrip.message"))+"</span>",{className:d.topClipLabel}),thumbnail:o.processTemplate('<img src="{src}" class="{className}">',{src:l.FAKE_IMG_SRC,className:d.filmStripThumbnail})},u={targetEl:null,progressBar:null,slides:null,slideCount:null,slideRatio:4/3,thumbWidth:100,thumbMargin:4,imageInViewThreshold:100};n.prototype={constructor:n,_attachEventListeners:function(){this.$progressBar.on("mousemove.filmstrip",this._onProgressBarMouseMove.bind(this)).on("mouseleave.filmstrip",this._setFilmStripHideTimer.bind(this)).on("click",this._onProgressBarClick.bind(this)).on("mousedown",this._onProgressBarMouseDown.bind(this)).on("keydown",this._onProgressBarKeyDown.bind(this)).on("keyup",this._onProgressBarKeyUp.bind(this)).on("focusout",this._hideFilmStripByKeys.bind(this)),this.$filmStripContainer.on("mouseenter.filmstrip",this._clearFilmStripHideTimer.bind(this)).on("mouseleave.filmstrip",this._setFilmStripHideTimer.bind(this)).on("click",c.filmStripThumbnail,this._onThumbnailClick.bind(this)).on("click",c.filmStripLensImage,this._onThumbnailClick.bind(this)),$(e).on("resize.filmstrip",Foundation.utils.throttle(this._onWindowResize.bind(this),300))},_createThumbnail:function(e){var t=e.isTopClip?d.topClip:"",i=[$(h.thumbnail).data({src:e.thumbUrl,position:e.position}).addClass(t)];return e.isTopClip&&i.push($(h.topClippedLabel)),$(document.createElement(h.thumbnailContainer)).append(i)},_calcFilmStripWidth:function(e){var t=this.config.thumbMargin,i=this.config.thumbWidth*e,o=t*e*2;return i+o},_calcMoveByRatio:function(){return Math.abs(this.dimensions.filmStripWidth/this.dimensions.progressBarWidth)},_clearFilmStripHideTimer:function(){clearTimeout(s)},_createFilmStrip:function(){var e=$(h.filmStripContainer),t=$(h.filmStripLens),i=$(h.filmStrip),o=$(h.topClippedLabel);if(this.slides)return $.each(this.slides,function(e,t){i.append(this._createThumbnail(t))}.bind(this)),t.append(o),e.append(t,i).hide(),this.$target.append(e),this.$filmStripContainer=$(c.filmStripContainer),this.$filmStrip=this.$filmStripContainer.find(c.filmStrip),this.$filmStripItems=this.$filmStrip.find("li"),this.$filmStripImagesQueue=this.$filmStripImages=this.$filmStripItems.find("img"),this.$filmStripLens=this.$filmStripContainer.find(c.filmStripLens),this.$filmStripLensImage=this.$filmStripLens.find("img"),e},disable:function(){this.enabled=!1,this._hideFilmStrip()},enable:function(){this.enabled=!0},_cacheDimensions:function(){var e=this.$progressBar,t=this.$filmStrip,i=t.width(),o=e.width(),n=e.offset(),s=o/2-this.config.thumbMargin;this.dimensions={filmStripWidth:i,progressBarWidth:o,progressBarOffset:n,baseLeftOffset:s}},_getSlideRatio:function(){var e=$.Deferred(),t=new Image,i=this.slides[1].thumbUrl;return $(t).load(function(){return e.resolve({naturalWidth:t.width,naturalHeight:t.height})}),t.src=i,e.promise()},_getCursorRelativeLeftOffset:function(e){return Math.max(0,e.pageX-this.dimensions.progressBarOffset.left)},_getCursorSlidePosition:function(e){return Math.max(1,Math.ceil(this._getCursorRelativeLeftOffset(e)/this.dimensions.progressBarWidth*this.slideCount))},_goToSlide:function(e){i&&e&&(i.trigger("gotoslide",{index:e}),i.trackEvent("progressbar_click"))},_hideFilmStrip:function(){this.$filmStripContainer.hide()},_init:function(){if(this.slides=this.config.slides,this.slideCount=this.config.slideCount,this.enabled=!0,this.previewSlideIndex=1,this.$target=$(this.config.targetEl),this.$progressBar=$(this.config.progressBarEl),!this.$target.length||!this.$progressBar.length)throw new Error("ClippingFilmStrip failed to initialize.");this._getSlideRatio().then(function(e){this._setSlideRatio({width:e.naturalWidth,height:e.naturalHeight}),this._createFilmStrip(),this._setDimensions(),this._cacheDimensions(),this._attachEventListeners()}.bind(this))},isImageInView:function(e,t){var i=$(e),t=t||0,o=this.$target.offset().left,n=o+this.$target.width(),s=i.offset().left,a=s+i.width(),r=a+t>=o,l=s-t<=n;return r&&l},_loadImagesInView:function(){var e,t=this.$filmStripImagesQueue,i=this.$filmStripContainer,o=this._isFilmStripHidden(),n=this.config.imageInViewThreshold;o&&i.css({display:"block",opacity:0}),e=t.filter(function(e,t){return this.isImageInView(t,n)}.bind(this)),$.each(e,function(e,t){$(t).attr("src",$(this).data("src"))}),this.$filmStripImagesQueue=t.not(e),o&&i.css({display:"none",opacity:1})},_onProgressBarMouseMove:function(e){this.enabled&&(clearTimeout(s),this._moveFilmStrip(e),this._showFilmStrip())},_onProgressBarClick:function(e){this._goToSlide(this._getCursorSlidePosition(e))},_onWindowResize:function(e){this._cacheDimensions()},_onThumbnailClick:function(e){var t=$(e.target),i=t.data("position");i&&this._goToSlide(i),this._hideFilmStrip()},_setDimensions:function(){var e=this.config.thumbWidth,t=this.config.thumbMargin,i=this.slideRatio;this.$filmStripItems.css("margin",t),this.$filmStripImages.css({width:e,height:e/i}),this.$filmStripLens.css({width:2*e+4*t,height:e/i*2+4*t}),this.$filmStrip.css("width",this._calcFilmStripWidth(this.slideCount))},_setFilmStripHideTimer:function(){s=setTimeout(this._hideFilmStrip.bind(this),l.HIDE_FILMSTRIP_TIMER)},_setSlideRatio:function(e){e.width&&e.height&&(this.slideRatio=this.config.slideRatio=e.width/e.height)},_showFilmStrip:function(){this.$filmStripContainer.show()},_updateFilmStripLens:function(e){var t=this.slides[e].thumbUrl,i=this.slides[e].isTopClip;t&&(this.$filmStripLens.toggleClass("top-clip",i),this.$filmStripLensImage.attr("src",t).data("position",e))},_moveFilmStrip:function(e){var t=this._getCursorRelativeLeftOffset(e),i=this._getCursorSlidePosition(e),o=this.dimensions.baseLeftOffset-t*this._calcMoveByRatio();this._clearFilmStripHideTimer(),this._updateFilmStripLens(i),this.$filmStripImagesQueue.length&&this._loadImagesInView(),this.$filmStrip.css("marginLeft",o)},_onProgressBarKeyUp:function(e){var t=e.which;switch(t){case l.KEY_ARROW_RIGHT:e.shiftKey&&(e.stopPropagation(),this._onProgressBarRightArrowKey());break;case l.KEY_ARROW_LEFT:e.shiftKey&&(e.stopPropagation(),this._onProgressBarLeftArrowKey());break;case l.KEY_ENTER:this._onProgressBarEnterKey();break;case l.KEY_ESC:this._hideFilmStrip()}},_onProgressBarKeyDown:function(e){var t=e.which;t!==l.KEY_ARROW_LEFT&&t!==l.KEY_ARROW_RIGHT||e.preventDefault()},_onProgressBarRightArrowKey:function(){this.previewSlideIndex<this.config.slideCount&&(this._isFilmStripHidden()||this.previewSlideIndex++),this._moveFilmStripByKeys()},_onProgressBarLeftArrowKey:function(){this.previewSlideIndex>1&&(this._isFilmStripHidden()||this.previewSlideIndex--),this._moveFilmStripByKeys()},_moveFilmStripByKeys:function(){var e=this.dimensions.progressBarWidth/this.config.slideCount,t=Math.floor(this.dimensions.progressBarOffset.left+this.previewSlideIndex*e);this._onProgressBarMouseMove({pageX:t})},_onProgressBarEnterKey:function(){this._isFilmStripHidden()||(this._goToSlide(this.previewSlideIndex),this._hideFilmStrip())},_hideFilmStripByKeys:function(){this._hideFilmStrip(),this.previewSlideIndex=1},_isFilmStripHidden:function(){return this.$filmStripContainer.is(":hidden")},_onProgressBarMouseDown:function(e){e.preventDefault()}},a.exports("ClippingFilmStrip",n)}(window,window.slideshare_object,$.slideshareEventManager,window.jSecure),function(e,t,i){function o(e){this.config=$.extend({},a,e),this._init()}var n={clippingIndicator:"clipping-indicator"},s={bufferedBar:".buffered-bar"},a={topClips:null,slideCount:null};o.prototype={constructor:o,_init:function(){this.$bufferedBar=$(s.bufferedBar),this.slideCount=this.config.slideCount,this.topClips=this.config.topClips,this.slideCount&&this.topClips&&this._attachIndicators()},_attachIndicators:function(){if(this.topClips){var e=[];$.each(this.topClips,function(t,i){var o=this._createIndicator(i);o.prop("style").left&&e.push(o)}.bind(this)),this.$bufferedBar.append(e)}},_createIndicator:function(e){function t(e,t){var i=parseInt(e,10)/t*100,o=100/t;return i-o/2+"%"}return $("<div/>").addClass(n.clippingIndicator).css("left",t(e.position,this.slideCount))}},i("ClippingIndicators",o)}(window,window.slideshare_object,window.slideshare_object.utils.exports),function(e){function t(e){return this.config=$.extend({},w,e),this._shouldForceLearnMoreTour()&&(this.config.forceLearnMoreTour=!0),this._init(),{showLearnMoreTour:this._showLearnMoreTour.bind(this),showFirstClipTour:this._showFirstClipTour.bind(this)}}var i="slideshare.clips.shownlearnMoreTour",o="slideshare.clips.shownFirstClipTour",n="clipshare",s={visibleForOnboarding:"visible-for-onboarding"},a={tour:{firstClip:"#first-clip-tour",learnMore:"#clip-intention-tour"},clipButton:".j-clips-button",joyrideModalBg:".joyride-modal-bg"},r={successToastHide:"successtoast:hide",slidechanged:"slidechanged"},e=window.slideshare_object,l=e.utils,d=l.isUserAuthenticated(),c=e.is_mobile,h=$.slideshareEventManager,u=d?e.user.id:"",p=e.user.clips_number,f=Foundation.libs.joyride.scroll_to,m=window.localStorage,_=d?i+"."+u:i,g=d?o+"."+u:o,w={hiddenElements:{clipButton:["#clips-button-top"]},slideChangesUntilLearnMoreTour:3,learnMoreUrlParam:"clippingTour",forceLearnMoreTour:!1,userClipsNumberLimit:5,storageKey:{learnMoreTour:_,firstClipTour:g}},v={modal:!1,abort_on_close:!1,pre_ride_callback:function(){Foundation.libs.joyride.scroll_to=$.noop,window.scrollTo(0,0)},post_ride_callback:function(){$modalBg=$(a.joyrideModalBg),$modalBg.length&&$modalBg.remove(),Foundation.libs.joyride.scroll_to=f,$(a.clipButton).removeClass(s.visibleForOnboarding)}};t.prototype={constructor:t,_init:function(){var e=2e3;this.$clipButton=$(a.clipButton),this.slidesToggled=0,p>this.config.userClipsNumberLimit||$(document).ready(function(){this._attachEventListeners(),this.config.forceLearnMoreTour&&window.setTimeout(function(){this._clipButtonVisible()&&(this._showLearnMoreTour(),m.setItem(_,1))}.bind(this),e)}.bind(this))},_attachEventListeners:function(){$(document).on(r.successToastHide,this._onClipCreated.bind(this)),h&&h.player&&h.player.on(r.slidechanged,this._onSlideChanged.bind(this))},_findHiddenClipButton:function(){var e,t=this.config.hiddenElements.clipButton;if(t)return e=t.filter(function(e){var t=$(e);return t.length&&t.attr("id")}),e.length?$(e[0]):void 0},_findVisibileClipButton:function(){var e,t=$(a.clipButton+":visible");if(t.length)return e=t.filter(function(e,t){return t.id}),e?$(e[0]):void 0},_onClipCreated:function(){var e;m&&!c&&(e=m.getItem(g),!e&&this._clipButtonVisible()&&(this._showFirstClipTour(),m.setItem(g,1)))},_slideChangeThresholdReached:function(){return this.slidesToggled>=this.config.slideChangesUntilLearnMoreTour},_onSlideChanged:function(){this.slidesToggled+=1;var e;m&&this._slideChangeThresholdReached()&&!c&&(e=m.getItem(_),!e&&this._clipButtonVisible()&&(this._showLearnMoreTour(),m.setItem(_,1)))},_setClipButtonTipLocation:function(e){function t(e){return a.attr("data-id",e.attr("id")),$(document).foundation("joyride","reflow"),a}var i,o,n=e.tour,s=e.tipIndex,a=n.find("li").eq(s);if(a.length)return o=this._findHiddenClipButton(),o&&o.length?t(o):(i=this._findVisibileClipButton(),i&&i.length?t(i):void 0)},_shouldForceLearnMoreTour:function(){return!!window.getUrlVar(this.config.learnMoreUrlParam)||window.getUrlVar("src")===n},_clipButtonVisible:function(){return $(a.clipButton).is(":visible")},_showFirstClipTour:function(){var e=$(a.tour.firstClip);e.foundation({joyride:v}).foundation("joyride","start")},_showLearnMoreTour:function(){var e=$(a.tour.learnMore);this._setClipButtonTipLocation({tour:e,tipIndex:0}),e.foundation({joyride:$.extend(v,{pre_step_callback:function(){var e=this.$target;e.addClass(s.visibleForOnboarding)}})}).foundation("joyride","start")}},l.exports("ClippingOnboarding",t)}(window.slideshare_object),function(e,t,i,o){function n(e){this.config=e,this._init()}var s,a,r=i("ClippingFilmStrip"),l=i("ClippingIndicators"),d=i("clippingUtil"),c={MAX_TOP_CLIPS:5},h={slideStage:".stage",slideImage:".slide_image",progressBar:".j-progress-bar"};n.prototype={constructor:n,_init:function(){var e=this.config.clipCounts,t=this.config.totalSlides,i=d.getTopClips(e,c.MAX_TOP_CLIPS),o=d.getSlides(h.slideImage),n=$.extend(!0,o,i);s=new r({targetEl:h.slideStage,progressBarEl:h.progressBar,slides:n,slideCount:t}),a=new l({topClips:i,slideCount:t})}},o("ClippingModule",n)}(window,window.slideshare_object,window.slideshare_object.utils.imports,window.slideshare_object.utils.exports),function(e,t,i){function o(){a&&h&&$(document).on("onboarding.showLearnMoreTour",function(){h.showLearnMoreTour()}),$(".stage, .image_maps").hover(function(){u.addClass(p.visible)},function(){u.removeClass(p.visible)})}function n(){a&&(s=new d({clipCounts:t.slideshow.clip_counts,totalSlides:t.slideshow.total_slides})),o()}var s,a=t.slideshow&&t.slideshow.is_clippable,r=i("slideview.ActionBar"),l=i("slideview.Recommendations"),d=i("ClippingModule"),c=i("ClippingOnboarding"),h=(new r("#slideshow-actions",{clippingEnabled:a}),new l("#side-panel"),new c),u=$(".clip-button-top .clip-button"),p={visible:"visible"};n()}(window,window.slideshare_object,window.slideshare_object.utils.imports);